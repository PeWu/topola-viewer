(this["webpackJsonptopola-viewer"]=this["webpackJsonptopola-viewer"]||[]).push([[0],{23:function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return k}));var r=n(281),a=n(83),i=n(33),o=n(34);function c(e){return e.substring(1,e.length-1)}function s(e){var t=new Map;return e.indis.forEach((function(e){t.set(e.id,e)})),t}function u(e){var t=new Map;return e.fams.forEach((function(e){t.set(e.id,e)})),t}function l(e){var t=e.find((function(e){return"HEAD"===e.tag})),n={},r={},a={};return e.forEach((function(e){"INDI"===e.tag?n[c(e.pointer)]=e:"FAM"===e.tag?r[c(e.pointer)]=e:e.pointer&&(a[c(e.pointer)]=e)})),{head:t,indis:n,fams:r,other:a}}function d(e,t){return e<t?-1:e>t?1:0}function f(e){var t=function(e){var t=s(e);return function(e,n){var r=t.get(e),a=t.get(n);return Object(o.b)(r&&r.birth,a&&a.birth)||d(e,n)}}(e),n=e.fams.map((function(e){return function(e,t){if(!e.children)return e;var n=e.children.sort(t);return Object.assign({},e,{children:n})}(e,t)}));return Object.assign({},e,{fams:n})}function m(e){var t=function(e){var t=u(e);return function(e,n){var r=t.get(e),a=t.get(n);return Object(o.b)(r&&r.marriage,a&&a.marriage)||d(e,n)}}(e),n=e.indis.map((function(e){return function(e,t){if(!e.fams)return e;var n=e.fams.sort(t);return Object.assign({},e,{fams:n})}(e,t)}));return Object.assign({},e,{indis:n})}function p(e,t,n){if(e.data){var r=n(t)[c(e.data)];if(r)return r}return e}function g(e){var t=[e.data];return e.tree.forEach((function(e){if("CONC"===e.tag&&e.data){var n=t.length-1;t[n]+=e.data}else"CONT"===e.tag&&e.data&&t.push(e.data)})),t}function h(e){return m(f(e))}var j=[".jpg",".jpeg",".png",".gif"];function b(e){var t=e.toLowerCase();return j.some((function(e){return t.endsWith(e)}))}function O(e,t){var n=e.indis.map((function(e){return function(e,t){if(!e.images||0===e.images.length)return e;var n=[];return e.images.forEach((function(e){var r=e.url.replaceAll("\\","/"),a=r.match(/[^/]*$/)[0];t.has(r)?n.push({url:t.get(r),title:e.title}):t.has(a)?n.push({url:t.get(a),title:e.title}):e.url.startsWith("http")&&b(e.url)&&n.push(e)})),Object.assign({},e,{images:n})}(e,t)}));return Object.assign({},e,{indis:n})}function v(e,t){var n=Object(r.parse)(e),o=Object(i.gedcomEntriesToJson)(n);if(!o||!o.indis||!o.indis.length||!o.fams||!o.fams.length)throw new a.a("GEDCOM_READ_FAILED","Failed to read GEDCOM file");return{chartData:O(h(o),t),gedcom:l(n)}}function x(e){var t=e&&e.tree&&e.tree.find((function(e){return"SOUR"===e.tag})),n=t&&t.tree&&t.tree.find((function(e){return"NAME"===e.tag}));return n&&n.data||null}function w(e){var t=e.tree.filter((function(e){return"NAME"===e.tag})),n=t.find((function(e){return 0===e.tree.filter((function(e){return"TYPE"===e.tag&&"married"===e.data})).length}))||t[0];return null===n||void 0===n?void 0:n.data.replace(/\//g,"")}function _(e){var t,n,r=null===e||void 0===e||null===(t=e.tree.find((function(e){return"TITL"===e.tag})))||void 0===t?void 0:t.data,a=null===e||void 0===e||null===(n=e.tree.find((function(e){return"FORM"===e.tag})))||void 0===n?void 0:n.data;return r&&a&&r+"."+a}function k(e){return e.tree.find((function(e){return"FILE"===e.tag&&e.data.startsWith("http")&&b(e.data)}))}},31:function(e,t,n){"use strict";function r(e,t){window.gtag("event",e,t)}n.d(t,"a",(function(){return r}))},34:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return f}));n(33);var r=new Map([["abt","about"],["cal","calculated"],["est","estimated"]]);function a(e,t){var n=void 0!==e.day,r=void 0!==e.month,a=void 0!==e.year;if(!n&&!r&&!a)return e.text||"";var o=f(e),c={day:n?"numeric":void 0,month:r?"long":void 0,year:a?"numeric":void 0};return[i(e.qualifier,t),new Intl.DateTimeFormat(t.locale,c).format(o)].filter((function(e){return e})).join(" ")}function i(e,t){var n=e&&e.toLowerCase();return n&&t.formatMessage({id:"date.".concat(n),defaultMessage:r.get(n)||n})||""}function o(e,t){return e?e.date?a(e.date,t):e.dateRange?function(e,t){var n=e.from,r=e.to,i=n&&a(n,t),o=r&&a(r,t);return i&&o?t.formatMessage({id:"date.between",defaultMessage:"between {from} and {to}"},{from:i,to:o}):i?t.formatMessage({id:"date.after",defaultMessage:"after {from}"},{from:i}):o?t.formatMessage({id:"date.before",defaultMessage:"before {to}"},{to:o}):""}(e.dateRange,t):"":""}function c(e,t){return e&&e.year&&t&&t.year?e.year!==t.year?e.year-t.year:e.month&&t.month&&(e.month!==t.month||e.day&&t.day&&e.day!==t.day)?e.month-t.month:0:0}function s(e,t){return c(e&&(e.date||e.dateRange&&(e.dateRange.from||e.dateRange.to)),t&&(t.date||t.dateRange&&(t.dateRange.from||t.dateRange.to)))}function u(e,t){return c(e.from,t.to)<=0&&c(e.to,t.from)>=0}function l(e){var t,n,r,a;return d(null===e||void 0===e?void 0:e.dateRange)?c(null===e||void 0===e||null===(r=e.dateRange)||void 0===r?void 0:r.from,null===e||void 0===e||null===(a=e.dateRange)||void 0===a?void 0:a.to)<=0:!!((null===e||void 0===e?void 0:e.date)||(null===e||void 0===e||null===(t=e.dateRange)||void 0===t?void 0:t.from)||(null===e||void 0===e||null===(n=e.dateRange)||void 0===n?void 0:n.to))}function d(e){return!(!(null===e||void 0===e?void 0:e.from)||!(null===e||void 0===e?void 0:e.to))}function f(e){return new Date(void 0!==e.year?e.year:0,void 0!==e.month?e.month-1:0,void 0!==e.day?e.day:1)}},387:function(e){e.exports=JSON.parse('{"menu.open":"Otev\u0159\xedt","menu.open_file":"Otev\u0159\xedt soubor","menu.load_from_url":"Otev\u0159\xedt z URL","menu.select_wikitree_id":"Vybrat WikiTree ID","menu.print":"Tiskni","menu.download":"St\xe1hnout","menu.pdf_file":"Soubor PDF","menu.png_file":"Soubor PNG","menu.svg_file":"Soubor SVG","menu.download_pdf":"St\xe1hnout PDF","menu.download_png":"St\xe1hnout PNG","menu.download_svg":"St\xe1hnout SVG","menu.view":"Zobrazen\xed","menu.hourglass":"P\u0159es\xfdpac\xed hodiny","menu.relatives":"V\u0161ichni p\u0159\xedbuzn\xed","menu.fancy":"Rodinn\xfd strom (experiment\xe1ln\xed)","menu.wikitree_login":"P\u0159ihl\xe1\u0161en\xed na WikiTree","menu.wikitree_logged_in":"P\u0159ihl\xe1\u0161eno","menu.wikitree_popup_username":"P\u0159ihl\xe1\u0161eno do WikiTree jako {username}","menu.wikitree_popup":"P\u0159ihl\xe1\u0161eno do WikiTree","menu.github":"GitHub projekt","menu.search.placeholder":"Hledej osobu","menu.search.no_results":"\u017d\xe1dn\xe9 v\xfdsledky","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy v\xe1m umo\u017e\u0148uje interaktivn\xed prohl\xed\u017een\xed rodokmenu.","intro.instructions":"Kliknut\xedm na OTEV\u0158\xcdT SOUBOR nebo OTEV\u0158\xcdT Z URL na\u010dt\u011bte soubor GEDCOM. V\u011bt\u0161ina genealogick\xfdch program\u016f m\xe1 funkci exportu do form\xe1tu GEDCOM.","intro.examples":"N\xed\u017ee je uvedeno n\u011bkolik p\u0159\xedklad\u016f pou\u017eit\xed z internetu:","intro.from":"zdroj:","intro.privacy":"Soukrom\xed","intro.privacy_note":"Pomoc\xed funkce \\"Otev\u0159\xedt soubor\\" nejsou va\u0161e data nikam odes\xedl\xe1na a z\u016fst\xe1vaj\xed ve va\u0161em po\u010d\xedta\u010di. P\u0159i pou\u017eit\xed funkce \\"Otev\u0159\xedt z URL\\" jsou data z dan\xe9 adresy odesl\xe1na slu\u017ebou {link}, aby bylo mo\u017en\xe9 data na\u010d\xedst (CORS).","load_from_url.title":"Otev\u0159\xedt z adresy URL","load_from_url.comment":"Data z dan\xe9 adresy URL budou na\u010dteny prost\u0159ednictv\xedm slu\u017eby {link}, aby nedoch\xe1zelo k probl\xe9m\u016fm s CORS.","load_from_url.cancel":"Zru\u0161it","load_from_url.load":"Otev\u0159\xedt","select_wikitree_id.title":"Zadejte WikiTree ID","select_wikitree_id.comment":"Zadejte ID profilu {wikiTreeLink}. P\u0159\xedklad: {example1}, {example2}","select_wikitree_id.cancel":"Zru\u0161it","select_wikitree_id.load":"Otev\u0159\xedt","gedcom.BAPM":"K\u0159est","gedcom.BIRT":"Narozen\xed","gedcom.BURI":"Poh\u0159eb","gedcom.CENS":"S\u010d\xedt\xe1n\xed lidu","gedcom.CHR":"K\u0159est","gedcom.DEAT":"\xdamrt\xed","gedcom.DSCR":"Opis","gedcom.EDUC":"Vzd\u011bl\xe1n\xed","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Ud\xe1lost","gedcom.FACT":"Skute\u010dnost","gedcom.MILT":"Vojensk\xe1 slu\u017eba","gedcom.OCCU":"Povol\xe1n\xed","gedcom.RIN":"ID","gedcom.TITL":"Titul","gedcom.WWW":"Str\xe1nka WWW","gedcom.RELI":"Vyzn\xe1n\xed","gedcom._UPD":"Posledn\xed aktualizace","gedcom.birth":"Rodinn\xe9 jm\xe9no","gedcom.married":"Man\u017eelsk\xe9 jm\xe9no","gedcom.maiden":"Jm\xe9no za svobodna","gedcom.aka":"Tak\xe9 zn\xe1m(a) jako","date.abt":"kolem","date.cal":"spo\u010dteno","date.est":"asi","date.between":"mezi {from} a {to}","date.after":"po {from}","date.before":"p\u0159ed {to}","error.error":"Chyba","error.failed_pdf":"Soubor PDF nelze vytvo\u0159it. Zkuste to znovu s men\u0161\xedm diagramem nebo st\xe1hn\u011bte soubor SVG.","error.failed_png":"Soubor PNG nelze vytvo\u0159it. Zkuste to znovu s men\u0161\xedm diagramem nebo st\xe1hn\u011bte soubor SVG.","error.failed_to_load_file":"Chyba p\u0159i na\u010d\xedt\xe1n\xed souboru","error.failed_wikitree_load_more":"Chyba p\u0159i na\u010d\xedt\xe1n\xed dat z WikiTree. {chyba}","error.GEDCOM_READ_FAILED":"Chyba p\u0159i na\u010d\xedt\xe1n\xed souboru GEDCOM","error.ERROR_LOADING_UPLOADED_FILE":"Chyba p\u0159i na\u010d\xedt\xe1n\xed dat. Znovu otev\u0159ete soubor.","error.WIKITREE_ID_NOT_PROVIDED":"WikiTree ID nebylo z\xedsk\xe1no","error.WIKITREE_PROFILE_NOT_ACCESSIBLE":"Profil WikiTree {id} nen\xed k dispozici","error.WIKITREE_PROFILE_NOT_FOUND":"Profil WikiTree {id} neexistuje","wikitree.private":"Soukrom\xe9"}')},388:function(e){e.exports=JSON.parse('{"menu.open":"\xd6ffnen","menu.open_file":"Datei \xf6ffnen","menu.load_from_url":"URL \xf6ffnen","menu.select_wikitree_id":"WikiTree ID ausw\xe4hlen","menu.print":"Print","menu.download":"Download","menu.pdf_file":"PDF-Datei","menu.png_file":"PNG-Datei","menu.svg_file":"SVG-Datei","menu.download_pdf":"PDF herunterladen","menu.download_png":"PNG herunterladen","menu.download_svg":"SVG herunterladen","menu.view":"View","menu.hourglass":"Sanduhrkarte","menu.relatives":"Alle Verwandten","menu.fancy":"Zierbaum (experimentell)","menu.wikitree_login":"Bei WikiTree anmelden","menu.wikitree_logged_in":"Eingeloggt","menu.wikitree_popup_username":"Bei WikiTree als {username} angemeldet","menu.wikitree_popup":"Bei WikiTree angemeldet","menu.github":"Projekt auf der GitHub-Website","menu.search.placeholder":"Person suchen","menu.search.no_results":"Keine Ergebnisse","intro.title":"Topola Genealogie","intro.description":"Mit der Topola Genealogie k\xf6nnen Sie den Stammbaum auf interaktive Weise durchsuchen.","intro.instructions":"Klicken Sie auf Datei \xf6ffnen oder URL \xf6ffnen, um eine GEDCOM-Datei zu laden. Die meisten Genealogie-Programme verf\xfcgen \xfcber eine GEDCOM-Exportfunktion.","intro.examples":"Nachfolgend einige Beispiele aus dem Internet:","intro.from":"source:","intro.privacy":"Datenschutz","intro.privacy_note":"Bei Verwendung der Funktion \\"Datei \xf6ffnen\\" werden Ihre Daten nirgendwo gesendet und verbleiben auf Ihrem Computer. Bei Verwendung der Funktion \\"URL \xf6ffnen\\" werden Daten von der angegebenen Adresse vom Dienst {link} an gesendet Erm\xf6glichen des Ladens von Daten aus einer anderen Dom\xe4ne (CORS).","load_from_url.title":"Von URL \xf6ffnen","load_from_url.comment":"Die Daten der angegebenen URL werden \xfcber den {link} -Dienst geladen, um CORS-Probleme zu vermeiden.","load_from_url.cancel":"Cancel","load_from_url.load":"\xd6ffnen","select_wikitree_id.title":"WikiTree ID eingeben","select_wikitree_id.comment":"Geben Sie die Profil-ID {wikiTreeLink} ein. Beispiele: {example1}, {example2}","select_wikitree_id.cancel":"Cancel","select_wikitree_id.load":"Open","gedcom.BAPM":"Taufe","gedcom.BIRT":"Geburt","gedcom.BURI":"Beerdigung","gedcom.CENS":"Volksz\xe4hlung","gedcom.CHR":"Taufe","gedcom.DEAT":"Tod","gedcom.DSCR":"Beschreibung","gedcom.EMAIL":"E-Mail","gedcom.EVEN":"Ereignis","gedcom.OCCU":"Beruf","gedcom.RIN":"ID","gedcom.TITL":"Titel","gedcom.WWW":"Website","gedcom._UPD":"Zuletzt aktualisiert","gedcom.birth":"Geburtsname","gedcom.married":"Ehenamen","gedcom.maiden":"M\xe4dchenname","gedcom.aka":"Auch bekannt als","date.abt":"about","date.cal":"berechnet","date.est":"gesch\xe4tzt","date.between":"zwischen {from} und {to}","date.after":"after {from}","date.before":"before {to}","error.error":"Error","error.failed_pdf":"PDF konnte nicht erstellt werden. Versuchen Sie es erneut mit einem kleineren Diagramm oder laden Sie die SVG-Datei herunter.","error.failed_png":"Fehler beim Erstellen der PNG-Datei. Versuchen Sie es erneut mit einem kleineren Diagramm oder laden Sie die SVG-Datei herunter.","error.failed_to_load_file":"Fehler beim Laden der Datei","error.failed_wikitree_load_more":"Fehler beim Abrufen der Daten aus WikiTree. {error}","wikitree.private":"Privat"}')},389:function(e){e.exports=JSON.parse('{"menu.open":"Ouvrir","menu.open_file":"Ouvrir le fichier","menu.load_from_url":"Ouvrir l\'URL","menu.select_wikitree_id":"S\xe9lectionnez l\'ID WikiTree","menu.print":"Imprimer","menu.download":"T\xe9l\xe9charger","menu.pdf_file":"Fichier PDF","menu.png_file":"Fichier PNG","menu.svg_file":"Fichier SVG","menu.download_pdf":"T\xe9l\xe9charger le PDF","menu.download_png":"T\xe9l\xe9charger PNG","menu.download_svg":"T\xe9l\xe9charger SVG","menu.view":"Afficher","menu.hourglass":"Graphique en sablier","menu.relatives":"Tous les parents","menu.fancy":"Arbre ornemental (exp\xe9rimental)","menu.wikitree_login":"Connectez-vous \xe0 WikiTree","menu.wikitree_logged_in":"Connect\xe9","menu.wikitree_popup_username":"Connect\xe9 \xe0 WikiTree en tant que {username}","menu.wikitree_popup":"Connect\xe9 \xe0 WikiTree","menu.github":"Projet sur le site Web GitHub","menu.search.placeholder":"Rechercher une personne","menu.search.no_results":"Aucun r\xe9sultat","intro.title":"Topola G\xe9n\xe9alogie","intro.description":"La Topola G\xe9n\xe9alogie vous permet de parcourir l\'arbre g\xe9n\xe9alogique de mani\xe8re interactive.","intro.instructions":"Cliquez sur OPEN FILE ou OPEN URL pour charger un fichier GEDCOM. La plupart des logiciels de g\xe9n\xe9alogie ont une fonction d\'exportation GEDCOM.","intro.examples":"Voici quelques exemples trouv\xe9s sur Internet:","intro.from":"source:","intro.whats_new":"Quoi de neuf","intro.full_changelog":"Voir toutes les modifications","intro.privacy":"Confidentialit\xe9","intro.privacy_note":"Lorsque vous utilisez la fonction \\"Ouvrir un fichier\\", vos donn\xe9es ne sont envoy\xe9es nulle part et restent sur votre ordinateur. Lorsque vous utilisez la fonction \\"Ouvrir l\'URL\\", les donn\xe9es de l\'adresse indiqu\xe9e sont envoy\xe9es par le service {link} pour permettre le chargement des donn\xe9es depuis un autre domaine (CORS).","load_from_url.title":"Ouvrir depuis l\'URL","load_from_url.comment":"Les donn\xe9es de l\'URL donn\xe9e seront charg\xe9es via le service {link} pour \xe9viter les probl\xe8mes CORS.","load_from_url.cancel":"Annuler","load_from_url.load":"Ouvrir","select_wikitree_id.title":"Entrez l\'ID de WikiTree","select_wikitree_id.comment":"Entrez l\'ID de profil {wikiTreeLink}. Exemples: {example1}, {example2}","select_wikitree_id.cancel":"Annuler","select_wikitree_id.load":"Ouvrir","gedcom.ADOP":"Adoption","gedcom.BAPM":"Bapt\xeame","gedcom.BIRT":"Naissance","gedcom.BURI":"Fun\xe9railles","gedcom.CENS":"Recensement","gedcom.CHR":"Bapt\xeame","gedcom.CREM":"Cr\xe9mation","gedcom.DEAT":"Mort","gedcom.DSCR":"Description","gedcom.EDUC":"\xc9tudes","gedcom.EMAIL":"E-mail","gedcom.EMIG":"\xc9migration","gedcom.EVEN":"\xc9v\xe9nement","gedcom.FACT":"Fait","gedcom.IMMI":"Immigration","gedcom.MILT":"Service militaire","gedcom.NATU":"Naturalisation","gedcom.OCCU":"Profession","gedcom.RIN":"ID","gedcom.TITL":"Titre","gedcom.WWW":"Site Web","gedcom._UPD":"Derni\xe8re mise \xe0 jour","gedcom.MARR":"Mariage","gedcom.DIV":"Divorce","gedcom.birth":"Nom de naissance","gedcom.married":"Nom marital","gedcom.maiden":"Nom de jeune fille","gedcom.immigrant":"Nom d\'immigrant","gedcom.aka":"Alias","date.abt":"environ","date.cal":"calcul\xe9","date.est":"estim\xe9","date.between":"entre {from} et {to}","date.after":"apr\xe8s {from}","date.before":"avant {to}","error.error":"Erreur","age.exact":"{qualifier}{age, plural, =0 {Moins d\'1 an} one {1 an} other {# ans}}","age.less":"Moins de {age, plural, =0 {1 an} one {1 an} other {# ans}}","age.more":"Plus de {age, plural, =0 {0 an} one {1 an} other {# ans}}","age.between":"Entre {ageFrom} et {ageTo, plural, =0 {0 an} one {1 an} other {# ans}}","error.failed_pdf":"\xc9chec de la cr\xe9ation du PDF. R\xe9essayez avec un diagramme plus petit ou t\xe9l\xe9chargez le fichier SVG.","error.failed_png":"Impossible de cr\xe9er le fichier PNG. R\xe9essayez avec un diagramme plus petit ou t\xe9l\xe9chargez le fichier SVG.","error.failed_to_load_file":"Erreur lors du chargement du fichier","error.failed_wikitree_load_more":"Erreur lors de l\'obtention des donn\xe9es de WikiTree. {error}","error.GEDCOM_READ_FAILED":"Erreur de lecture du fichier GEDCOM","error.ERROR_LOADING_UPLOADED_FILE":"Erreur de chargement des donn\xe9es. Renvoyez votre fichier.","error.WIKITREE_ID_NOT_PROVIDED":"L\'ID WikiTree est obligatoire","error.WIKITREE_PROFILE_NOT_ACCESSIBLE":"Le profil WikiTree ${id} n\'est pas accessible. Connectez-vous.","error.WIKITREE_PROFILE_NOT_FOUND":"Le profil WikiTree ${id} n\'a pas \xe9t\xe9 trouv\xe9","error.failed_to_load_image":"Erreur de chargement de l\'image","wikitree.private":"Priv\xe9","tab.info":"Info","tab.settings":"Param\xe8tres","config.colors":"Couleurs","config.colors.NO_COLOR":"aucune","config.colors.COLOR_BY_GENERATION":"par g\xe9n\xe9ration","config.colors.COLOR_BY_SEX":"par sexe","name.unknown_name":"?","whats_new.title":"Quoi de neuf dans cette version?"}')},390:function(e){e.exports=JSON.parse('{"menu.open":"Apri","menu.open_file":"Apri file","menu.load_from_url":"Apri URL","menu.select_wikitree_id":"Seleziona ID WikiTree","menu.print":"Stampa","menu.download":"Download","menu.pdf_file":"File PDF","menu.png_file":"File PNG","menu.svg_file":"File SVG","menu.download_pdf":"Scarica PDF","menu.download_png":"Scarica PNG","menu.download_svg":"Scarica SVG","menu.view":"Visualizza","menu.hourglass":"Grafico a clessidra","menu.relatives":"Tutti i parenti","menu.fancy":"Albero ornamentale (sperimentale)","menu.wikitree_login":"Accedi a WikiTree","menu.wikitree_logged_in":"Accesso effettuato","menu.wikitree_popup_username":"Accesso a WikiTree come {username}","menu.wikitree_popup":"Accesso a WikiTree","menu.github":"Progetto sul sito web GitHub","menu.search.placeholder":"Cerca persona","menu.search.no_results":"Nessun risultato","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy ti consente di esplorare l\'albero genealogico in modo interattivo.","intro.instructions":"Fai clic su OPEN FILE o OPEN URL per caricare un file GEDCOM. La maggior parte dei software di genealogia ha una funzione di esportazione GEDCOM.","intro.examples":"Di seguito sono riportati alcuni esempi trovati su Internet:","intro.from":"source:","intro.privacy":"Privacy","intro.privacy_note":"Quando si utilizza la funzione \\"Apri file\\", i dati non vengono inviati da nessuna parte e rimangono sul computer. Quando si utilizza la funzione \\"Apri URL\\", i dati dall\'indirizzo specificato vengono inviati dal servizio {link} a consentire il caricamento dei dati da un altro dominio (CORS).","load_from_url.title":"Apri da URL","load_from_url.comment":"I dati dall\'URL specificato verranno caricati tramite il servizio {link} per evitare problemi CORS.","load_from_url.cancel":"Annulla","load_from_url.load":"Apri","select_wikitree_id.title":"Inserisci ID WikiTree","select_wikitree_id.comment":"Inserisci l\'ID profilo {wikiTreeLink}. Esempi: {example1}, {example2}","select_wikitree_id.cancel":"Annulla","select_wikitree_id.load":"Apri","gedcom.BAPM":"Battesimo","gedcom.BIRT":"Nascita","gedcom.BURI":"Funerale","gedcom.CENS":"Census","gedcom.CHR":"Battesimo","gedcom.DEAT":"Morte","gedcom.MARR":"Matrimonio","gedcom.DIV":"Divorzio","gedcom.DSCR":"Descrizione","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Evento","gedcom.OCCU":"Professione","gedcom.RIN":"ID","gedcom.TITL":"Titolo","gedcom.WWW":"Sito web","gedcom._UPD":"Ultimo aggiornamento","gedcom.birth":"Nome alla nascita","gedcom.married":"Nome da coniugato/a","gedcom.maiden":"Nome da nubile","gedcom.aka":"Conosciuto anche come","date.abt":"circa","date.cal":"calcolato","date.est":"stimato","date.between":"tra il {from} e il {to}","date.after":"dopo il {from}","date.before":"prima del {to}","error.error":"Errore","error.failed_pdf":"Impossibile creare PDF. Riprova con un diagramma pi\xf9 piccolo o scarica il file SVG.","error.failed_png":"Impossibile creare il file PNG. Riprova con un diagramma pi\xf9 piccolo o scarica il file SVG.","error.failed_to_load_file":"Errore durante il caricamento del file","error.failed_wikitree_load_more":"Errore durante il recupero dei dati da WikiTree. {error}","wikitree.private":"Privato"}')},391:function(e){e.exports=JSON.parse('{"menu.open":"Otw\xf3rz","menu.open_file":"Otw\xf3rz plik","menu.load_from_url":"Otw\xf3rz URL","menu.select_wikitree_id":"Wybierz WikiTree ID","menu.print":"Drukuj","menu.download":"Pobierz","menu.pdf_file":"Plik PDF","menu.png_file":"Plik PNG","menu.svg_file":"Plik SVG","menu.download_pdf":"Pobierz PDF","menu.download_png":"Pobierz PNG","menu.download_svg":"Pobierz SVG","menu.view":"Widok","menu.hourglass":"Wykres klepsydrowy","menu.relatives":"Wszyscy krewni","menu.fancy":"Ozdobne drzewo (eksperymentalne)","menu.wikitree_login":"Zaloguj do WikiTree","menu.wikitree_logged_in":"Zalogowano","menu.wikitree_popup_username":"Zalogowano do WikiTree jako {username}","menu.wikitree_popup":"Zalogowano do WikiTree","menu.github":"Projekt na stronie GitHub","menu.search.placeholder":"Szukaj osoby","menu.search.no_results":"Brak wynik\xf3w","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy pozwala przegl\u0105da\u0107 drzewo genealogiczne w interaktywny spos\xf3b.","intro.instructions":"Kliknij OTW\xd3RZ PLIK lub OTW\xd3RZ URL, aby za\u0142adowa\u0107 plik GEDCOM. Wi\u0119kszo\u015b\u0107 program\xf3w genealogicznych posiada funkcj\u0119 eksportu do pliku GEDCOM.","intro.examples":"Przyk\u0142ady","intro.from":"\u017ar\xf3d\u0142o:","intro.whats_new":"Co nowego?","intro.full_changelog":"Zobacz pe\u0142n\u0105 list\u0119 zmian","intro.privacy":"Prywatno\u015b\u0107","intro.privacy_note":"U\u017cywaj\u0105c funkcji \\"Otw\xf3rz plik\\", Twoje dane nie s\u0105 nigdzie wysy\u0142ane i pozostaj\u0105 na Twoim komputerze. U\u017cywaj\u0105c funkcji \\"Otw\xf3rz URL\\", dane z podanego adresu przesy\u0142ane s\u0105 przez us\u0142ug\u0119 {link} w celu umo\u017cliwienia za\u0142adowania danych z innej domeny (CORS).","load_from_url.title":"Otw\xf3rz z adresu URL","load_from_url.comment":"Dane z podanego adresu URL zostan\u0105 za\u0142adowane poprzez us\u0142ug\u0119 {link} w celu unikni\u0119cia problem\xf3w z CORS.","load_from_url.cancel":"Anuluj","load_from_url.load":"Otw\xf3rz","select_wikitree_id.title":"Podaj WikiTree ID","select_wikitree_id.comment":"Wpisz identyfikator profilu {wikiTreeLink}. Przyk\u0142ady: {example1}, {example2}","select_wikitree_id.cancel":"Anuluj","select_wikitree_id.load":"Otw\xf3rz","gedcom.BAPM":"Chrzest","gedcom.BIRT":"Narodziny","gedcom.BURI":"Pogrzeb","gedcom.CENS":"Spis ludno\u015bci","gedcom.CHR":"Chrzest","gedcom.DEAT":"\u015amier\u0107","gedcom.DSCR":"Opis","gedcom.EDUC":"Wykszta\u0142cenie","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Wydarzenie","gedcom.FACT":"Fakt","gedcom.MILT":"S\u0142u\u017cba wojskowa","gedcom.OCCU":"Zaw\xf3d","gedcom.RIN":"ID","gedcom.TITL":"Tytu\u0142","gedcom.WWW":"Strona WWW","gedcom._UPD":"Ostatnia aktualizacja","gedcom.MARR":"Ma\u0142\u017ce\u0144stwo","gedcom.DIV":"Rozw\xf3d","gedcom.birth":"Nazwisko rodowe","gedcom.married":"Nazwisko po ma\u0142\u017ce\u0144stwie","gedcom.maiden":"Nazwisko panie\u0144skie","gedcom.immigrant":"Nazwisko po imigracji","gedcom.aka":"Alias","date.abt":"oko\u0142o","date.cal":"wyliczone","date.est":"oszacowane","date.between":"mi\u0119dzy {from} a {to}","date.after":"po {from}","date.before":"przed {to}","error.error":"B\u0142\u0105d","age.exact":"{age, plural, =0 {Mniej ni\u017c 1 rok} one {{qualifier} 1 rok} many {{qualifier} # lat} other {{qualifier} # lata}}","age.less":"Mniej ni\u017c {age, plural, =0 {1 rok} one {1 rok} many {# lat} other {# lata}}","age.more":"Wi\u0119cej ni\u017c {age, plural, =0 {0 lat} one {1 rok} many {# lat} other {# lata}}","age.between":"Mi\u0119dzy {ageFrom} a {ageTo, plural, =0 {0 lat} one {1 rok} many {# lat} other {# lata}}","error.failed_pdf":"Nie uda\u0142o si\u0119 utworzy\u0107 pliku PDF. Spr\xf3buj jeszcze raz z mniejszym diagramem lub pobierz plik SVG.","error.failed_png":"Nie uda\u0142o si\u0119 utworzy\u0107 pliku PNG. Spr\xf3buj jeszcze raz z mniejszym diagramem lub pobierz plik SVG.","error.failed_to_load_file":"B\u0142\u0105d wczytywania pliku","error.failed_wikitree_load_more":"B\u0142\u0105d podczas pobierania danych z WikiTree. {error}","error.GEDCOM_READ_FAILED":"B\u0142\u0105d wczytywania pliku GEDCOM","error.ERROR_LOADING_UPLOADED_FILE":"B\u0142\u0105d wczytywania danych. Otw\xf3rz ponownie plik.","error.WIKITREE_ID_NOT_PROVIDED":"Identyfikator WikiTree nie zosta\u0142 podany","error.WIKITREE_PROFILE_NOT_ACCESSIBLE":"Profil WikiTree {id} nie jest dost\u0119pny","error.WIKITREE_PROFILE_NOT_FOUND":"Profil WikiTree {id} nie istnieje","error.failed_to_load_image":"B\u0142\u0105d podczas pobierania pliku ze zdj\u0119ciem","wikitree.private":"Prywatne","tab.info":"Info","tab.settings":"Ustawienia","config.colors":"Kolory","config.colors.NO_COLOR":"brak","config.colors.COLOR_BY_GENERATION":"wed\u0142ug pokolenia","config.colors.COLOR_BY_SEX":"wed\u0142ug p\u0142ci","name.unknown_name":"N.N.","extras.images":"Zdj\u0119cia","extras.notes":"Notatki","extras.sources":"\u0179r\xf3d\u0142a"}')},392:function(e){e.exports=JSON.parse('{"menu.open":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c","menu.open_file":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0444\u0430\u0439\u043b","menu.load_from_url":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c URL","menu.select_wikitree_id":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 WikiTree ID","menu.print":"\u041f\u0435\u0447\u0430\u0442\u044c","menu.download":"\u0421\u043a\u0430\u0447\u0430\u0442\u044c","menu.pdf_file":"\u0424\u0430\u0439\u043b PDF","menu.png_file":"\u0424\u0430\u0439\u043b PNG","menu.svg_file":"\u0424\u0430\u0439\u043b SVG","menu.download_pdf":"\u0421\u043a\u0430\u0447\u0430\u0442\u044c PDF","menu.download_png":"\u0421\u043a\u0430\u0447\u0430\u0442\u044c PNG","menu.download_svg":"\u0421\u043a\u0430\u0447\u0430\u0442\u044c SVG","menu.view":"\u0412\u0438\u0434","menu.hourglass":"\u0413\u0440\u0430\u0444\u0438\u043a \u041f\u0435\u0441\u043e\u0447\u043d\u044b\u0435 \u0447\u0430\u0441\u044b","menu.relatives":"\u0412\u0441\u0435 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0438","menu.fancy":"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e (\u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435))","menu.wikitree_login":"\u0412\u043e\u0439\u0442\u0438 \u0432 WikiTree","menu.wikitree_logged_in":"\u0412\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d","menu.wikitree_popup_username":"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 WikiTree \u043a\u0430\u043a {username}","menu.wikitree_popup":"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 WikiTree","menu.github":"\u041f\u0440\u043e\u0435\u043a\u0442 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 GitHub","menu.search.placeholder":"\u0418\u0441\u043a\u0430\u0442\u044c \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","menu.search.no_results":"\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u0435\u043c\u0435\u0439\u043d\u043e\u0435 \u0434\u0440\u0435\u0432\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.","intro.instructions":"\u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435 \\"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0444\u0430\u0439\u043b\\" \u0438\u043b\u0438 \\"\u041e\u0442\u043a\u0440\u044b\u0442\u044c URL\\", \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b GEDCOM. \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0430\u043b\u043e\u0433\u0438\u0438 \u0438\u043c\u0435\u044e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 GEDCOM.","intro.examples":"\u041d\u0438\u0436\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b, \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0435 \u0432 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435:","intro.from":"\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a:","intro.privacy":"\u041a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c","intro.privacy_note":"\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \\"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0444\u0430\u0439\u043b\\" \u0412\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0438\u043a\u0443\u0434\u0430 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0438 \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0412\u0430\u0448\u0435\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435. \u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \\"\u041e\u0442\u043a\u0440\u044b\u0442\u044c URL\\" \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u043b\u0443\u0436\u0431\u043e\u0439 {link} \u043d\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430 (CORS).","load_from_url.title":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441 \u0430\u0434\u0440\u0435\u0441\u0430 URL","load_from_url.comment":"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430 URL \u0431\u0443\u0434\u0443\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0447\u0435\u0440\u0435\u0437 \u0441\u043b\u0443\u0436\u0431\u0443 {link}, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c CORS.","load_from_url.cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","load_from_url.load":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c","select_wikitree_id.title":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 WikiTree","select_wikitree_id.comment":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0444\u0438\u043b\u044f {wikiTreeLink}. \u041f\u0440\u0438\u043c\u0435\u0440\u044b: {example1}, {example2}","select_wikitree_id.cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","select_wikitree_id.load":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c","gedcom.ADOP":"\u0423\u0441\u044b\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435","gedcom.BAPM":"\u041a\u0440\u0435\u0449\u0435\u043d\u0438\u0435","gedcom.BIRT":"\u0420\u043e\u0436\u0434\u0435\u043d\u0438\u0435","gedcom.BURI":"\u041f\u043e\u0445\u043e\u0440\u043e\u043d\u044b","gedcom.CENS":"\u041f\u0435\u0440\u0435\u043f\u0438\u0441\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f","gedcom.CHR":"\u041a\u0440\u0435\u0449\u0435\u043d\u0438\u0435","gedcom.CREM":"\u041a\u0440\u0435\u043c\u0430\u0446\u0438\u044f","gedcom.DEAT":"\u0421\u043c\u0435\u0440\u0442\u044c","gedcom.DSCR":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","gedcom.EDUC":"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435","gedcom.EMAIL":"E-mail","gedcom.EMIG":"\u042d\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f","gedcom.EVEN":"\u0421\u043e\u0431\u044b\u0442\u0438\u0435","gedcom.FACT":"\u0424\u0430\u043a\u0442","gedcom.IMMI":"\u0418\u043c\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f","gedcom.MILT":"\u0412\u043e\u0435\u043d\u043d\u0430\u044f \u0441\u043b\u0443\u0436\u0431\u0430","gedcom.NATU":"\u041d\u0430\u0442\u0443\u0440\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","gedcom.OCCU":"\u0412\u0438\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","gedcom.RIN":"ID","gedcom.TITL":"\u0422\u0438\u0442\u0443\u043b","gedcom.WWW":"\u0412\u0435\u0431-\u0441\u0430\u0439\u0442 WWW","gedcom._UPD":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435","gedcom.birth":"\u0418\u043c\u044f \u043f\u0440\u0438 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438","gedcom.married":"\u0418\u043c\u044f \u0432 \u0431\u0440\u0430\u043a\u0435","gedcom.maiden":"\u0414\u0435\u0432\u0438\u0447\u044c\u044f \u0444\u0430\u043c\u0438\u043b\u0438\u044f","gedcom.aka":"\u041e\u043d(\u0430) \u0436\u0435","date.abt":"\u043e\u043a\u043e\u043b\u043e","date.cal":"\u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043e","date.est":"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e","date.between":"\u043c\u0435\u0436\u0434\u0443 {from} \u0438 {to}","date.after":"\u043f\u043e\u0441\u043b\u0435 {from}","date.before":"\u0434\u043e {to}","error.error":"\u041e\u0448\u0438\u0431\u043a\u0430","error.failed_pdf":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c PDF-\u0444\u0430\u0439\u043b. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u0441 \u043c\u0435\u043d\u044c\u0448\u0435\u0439 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u043e\u0439 \u0438\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b SVG.","error.failed_png":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b PNG. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u0441 \u043c\u0435\u043d\u044c\u0448\u0435\u0439 \u0441\u0445\u0435\u043c\u043e\u0439 \u0438\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b SVG.","error.failed_to_load_file":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430","error.failed_wikitree_load_more":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 WikiTree. {error}}","wikitree.private":"\u0427\u0430\u0441\u0442\u043d\u044b\u0439"}')},465:function(e,t){},540:function(e,t){},542:function(e,t){},564:function(e,t){},566:function(e,t){},594:function(e,t){},596:function(e,t){},597:function(e,t){},602:function(e,t){},604:function(e,t){},623:function(e,t){},635:function(e,t){},638:function(e,t){},678:function(e,t,n){},681:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n(109),o=n(387),c=n(388),s=n(389),u=n(390),l=n(391),d=n(392),f=n(8),m=n.n(f),p=n(20),g=n(12),h=n(37),j=n(31),b=n(406),O=n(405),v=n(407),x=n(719),w=n(726),_=n(685),k=n(716),E=n(707),R=n(1),y="last_seen_version";function D(e,t){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(m.a.mark((function e(t,n){var r,a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Date.parse(n.slice(0,10)):0,i=(null===(r='# Changelog\n\n## 2023-08-25\n\n- Added support for loading gedzip files\n\n## 2023-07-21\n\n- Display images, notes, sources for events as collapsible tabs (by czifumasa)\n\n## 2023-07-20\n\n- Fixed search for Hebrew names (by czifumasa)\n\n## 2023-02-01\n\n- Added option to hide sex indicators (by Kent Grigo)\n- Empty family boxes are now not shown (by Kent Grigo)\n\n## 2023-01-08\n\n- Added option to hide profile identifiers by Kent Grigo\n\n## 2022-12-08\n\n- French translation updated by Olivier Berten\n\n## 2022-08-30\n\n- Added displaying name types in details panel\n\n## 2022-05-13\n\n- Added displaying images in the details panel\n\n## 2022-04-06\n\n- Fixed logging in to WikiTree\n\n## 2021-10-31\n\n- Show changelog in intro page and when an upgraded version is loaded\n\n## 2021-10-27\n\n- Show events in details panel for WikiTree profiles\n\n## 2021-10-26\n\n- Added family events to details panel\n- Improved details panel layout\n\n## 2021-10-25\n\n- Added "Settings" tab in side panel\n- Added color settings (none, by generation, by sex)')?void 0:r.split("##").slice(1,t+1).map((function(e){return{date:Date.parse(e.split("\n")[0].trim()),notes:"####"+e}})).filter((function(e){return e.date>a})).map((function(e){return e.notes})).join("\n"))||"",e.next=4,Object(k.a)().use(O.a).use(v.a).use(b.a).process(i);case 4:return o=e.sent,e.abrupt("return",String(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){localStorage.setItem(y,"2024-03-28 17:58:43 +0100")}function M(){var e=Object(a.useState)(!1),t=Object(g.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),o=Object(g.a)(i,2),c=o[0],s=o[1];return Object(a.useEffect)((function(){Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(y),"2024-03-28 17:58:43 +0100",t&&"2024-03-28 17:58:43 +0100"!==t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,D(3,t);case 6:n=e.sent,s(n),r(!!n),T();case 10:case"end":return e.stop()}}),e)})))()})),Object(R.jsxs)(x.a,{open:n,centered:!1,children:[Object(R.jsx)(w.a,{children:Object(R.jsx)(E.a,{id:"whats_new.title",defaultMessage:"What's new in this version?"})}),Object(R.jsxs)(x.a.Content,{className:"limit-height",children:[Object(R.jsx)("span",{dangerouslySetInnerHTML:{__html:c}}),Object(R.jsx)("a",{href:"https://github.com/PeWu/topola-viewer/blob/master/CHANGELOG.md",children:Object(R.jsx)(E.a,{id:"intro.full_changelog",defaultMessage:"See full changelog"})})]}),Object(R.jsx)(x.a.Actions,{children:Object(R.jsx)(_.a,{primary:!0,onClick:function(){return r(!1)},children:"Close"})})]})}!function(e){e[e.UPLOADED=0]="UPLOADED",e[e.GEDCOM_URL=1]="GEDCOM_URL",e[e.WIKITREE=2]="WIKITREE",e[e.EMBEDDED=3]="EMBEDDED"}(r||(r={}));var C=n(28),N=n(184),S=n.n(N),L=n(23),A=n(33),P=n(34);function z(e,t,n){var r=F(e,t);return n.formatMessage({id:"age.more",defaultMessage:"More than {age, plural, =0 {0 years} one {1 year} other {# years}}"},{age:r})}function W(e,t,n){var r=F(e,t);return n.formatMessage({id:"age.less",defaultMessage:"Less than {age, plural, =0 {1 year} one {1 year} other {# years}}"},{age:r})}function G(e,t,n,r,a){var i=F(t,n),o=F(e,r);return a.formatMessage({id:"age.between",defaultMessage:"Between {ageFrom} and {ageTo, plural, =0 {0 years} one {1 year} other {# years}}"},{ageFrom:i,ageTo:o})}function F(e,t){var n=Object(P.g)(e),r=Object(P.g)(t),a=n.getUTCFullYear(),i=r.getUTCFullYear()-a,o=r.getUTCMonth()-n.getUTCMonth();return o<0&&(i--,o+=12),r.getUTCDate()-n.getUTCDate()<0&&o<=0&&i--,Math.abs(i)}function B(e,t,n){if(e&&t){var r=Object(A.getDate)(e),a=Object(A.getDate)(t);if(K=a,(V=r)&&K&&Object(P.f)(V)&&Object(P.f)(K)&&!(Object(P.b)(V,K)>0)&&(!(V.dateRange&&K.dateRange&&Object(P.e)(null===V||void 0===V?void 0:V.dateRange)&&Object(P.e)(null===K||void 0===K?void 0:K.dateRange))||!Object(P.a)(V.dateRange,K.dateRange))){var i,o,c,s;if(null===r||void 0===r?void 0:r.date){var u,l,d,f,m,p,g,h;if(null===a||void 0===a?void 0:a.date)return function(e,t,n){var r=F(e,t),a=e.qualifier||t.qualifier,i=a&&Object(P.d)(a,n)+" ";return n.formatMessage({id:"age.exact",defaultMessage:"{qualifier}{age, plural, =0 {Less than 1 year} one {1 year} other {# years}}"},{age:r,qualifier:i})}(r.date,a.date,n);if((null===a||void 0===a||null===(u=a.dateRange)||void 0===u?void 0:u.from)&&(null===(l=a.dateRange)||void 0===l?void 0:l.to))return G(r.date,r.date,null===a||void 0===a||null===(m=a.dateRange)||void 0===m?void 0:m.from,null===a||void 0===a||null===(p=a.dateRange)||void 0===p?void 0:p.to,n);if(null===a||void 0===a||null===(d=a.dateRange)||void 0===d?void 0:d.from)return z(r.date,null===(g=a.dateRange)||void 0===g?void 0:g.from,n);if(null===a||void 0===a||null===(f=a.dateRange)||void 0===f?void 0:f.to)return W(r.date,null===(h=a.dateRange)||void 0===h?void 0:h.to,n)}if((null===r||void 0===r||null===(i=r.dateRange)||void 0===i?void 0:i.from)&&(null===r||void 0===r||null===(o=r.dateRange)||void 0===o?void 0:o.to)){var j,b,O,v,x,w,_,k,E,R,y,D,I,T;if(null===a||void 0===a?void 0:a.date)return G(null===r||void 0===r||null===(x=r.dateRange)||void 0===x?void 0:x.from,null===r||void 0===r||null===(w=r.dateRange)||void 0===w?void 0:w.to,null===a||void 0===a?void 0:a.date,null===a||void 0===a?void 0:a.date,n);if((null===a||void 0===a||null===(j=a.dateRange)||void 0===j?void 0:j.from)&&(null===(b=a.dateRange)||void 0===b?void 0:b.to))return G(null===r||void 0===r||null===(_=r.dateRange)||void 0===_?void 0:_.from,null===r||void 0===r||null===(k=r.dateRange)||void 0===k?void 0:k.to,null===a||void 0===a||null===(E=a.dateRange)||void 0===E?void 0:E.from,null===a||void 0===a||null===(R=a.dateRange)||void 0===R?void 0:R.to,n);if(null===a||void 0===a||null===(O=a.dateRange)||void 0===O?void 0:O.from)return z(null===(y=r.dateRange)||void 0===y?void 0:y.to,null===(D=a.dateRange)||void 0===D?void 0:D.from,n);if(null===a||void 0===a||null===(v=a.dateRange)||void 0===v?void 0:v.to)return W(null===(I=r.dateRange)||void 0===I?void 0:I.from,null===(T=a.dateRange)||void 0===T?void 0:T.to,n)}if(null===r||void 0===r||null===(c=r.dateRange)||void 0===c?void 0:c.from){var M,C,N,S;if(null===a||void 0===a?void 0:a.date)return W(null===(C=r.dateRange)||void 0===C?void 0:C.from,a.date,n);if(null===a||void 0===a||null===(M=a.dateRange)||void 0===M?void 0:M.to)return W(null===(N=r.dateRange)||void 0===N?void 0:N.from,null===(S=a.dateRange)||void 0===S?void 0:S.to,n)}if(null===r||void 0===r||null===(s=r.dateRange)||void 0===s?void 0:s.to){var L,B,U,H;if(null===a||void 0===a?void 0:a.date)return z(null===r||void 0===r||null===(B=r.dateRange)||void 0===B?void 0:B.to,a.date,n);if(null===a||void 0===a||null===(L=a.dateRange)||void 0===L?void 0:L.from)return z(null===r||void 0===r||null===(U=r.dateRange)||void 0===U?void 0:U.to,null===(H=a.dateRange)||void 0===H?void 0:H.from,n)}}}var V,K}var U=n(396),H=n(22),V=n(79),K=new Map([["ADOP","Adoption"],["BAPM","Baptism"],["BIRT","Birth"],["BURI","Burial"],["CENS","Census"],["CHR","Christening"],["CREM","Cremation"],["DEAT","Death"],["EDUC","Education"],["EMAIL","E-mail"],["EMIG","Emigration"],["EVEN","Event"],["FACT","Fact"],["IMMI","Immigration"],["MARR","Marriage"],["DIV","Divorce"],["MILT","Military services"],["NATU","Naturalization"],["OCCU","Occupation"],["TITL","Title"],["WWW","WWW"],["birth","Birth name"],["married","Married name"],["maiden","Maiden name"],["immigrant","Immigrant name"],["aka","Also known as"]]);function q(e){var t=e.tag.replace(/_/g,"");return Object(R.jsx)(E.a,{id:"gedcom.".concat(t),defaultMessage:K.get(t)||t})}var Y=n(718),J=n(720),Z=n(408),X=n(712),Q=n(89),$=n(724),ee=n(409),te=n(722),ne=n(709),re=n(723),ae=n(187);function ie(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(a.useState)(!1),d=Object(g.a)(l,2),f=d[0],m=d[1],p=Object(a.useState)(""),h=Object(g.a)(p,2),j=h[0],b=h[1];return s&&j!==e.url&&u(!1),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ee.a,{className:s?"loaded-image-thumbnail":"hidden-image",onClick:function(){return i(!0)},onLoad:function(){u(!0),b(e.url),m(!1)},onError:function(t){u(!0),b(e.url),m(!0),t.currentTarget.alt=""},src:e.url,alt:e.title||e.filename,centered:!0}),Object(R.jsx)(te.a,{className:s?"hidden-image":"image-placeholder",children:Object(R.jsx)(te.a.Image,{square:!0})}),f&&Object(R.jsx)(ne.a,{fluid:!0,textAlign:"center",children:Object(R.jsx)(re.a,{negative:!0,compact:!0,children:Object(R.jsx)(re.a.Header,{children:Object(R.jsx)(E.a,{id:"error.failed_to_load_image",defaultMessage:"Failed to load image file"})})})}),Object(R.jsxs)(x.a,{basic:!0,size:"large",closeIcon:Object(R.jsx)(Q.a,{name:"close",color:"red"}),open:r,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},centered:!1,children:[Object(R.jsx)(x.a.Header,{children:e.title}),Object(R.jsx)(x.a.Content,{image:!0,children:Object(R.jsx)(ee.a,{className:"modal-image",src:e.url,alt:e.title||e.filename,label:Object(R.jsx)(ae.a,{attached:"bottom",content:e.filename}),wrapped:!0})})]})]})}var oe=n(185),ce=n.n(oe);function se(e){return Object(R.jsx)(R.Fragment,{children:e.lines.map((function(e,t){return Object(R.jsxs)("div",{children:[Object(R.jsx)(ce.a,{properties:{target:"_blank"},children:e}),Object(R.jsx)("br",{})]},t)}))})}function ue(e,t){return!!(null===e||void 0===e?void 0:e.length)&&Object(R.jsx)(J.a,{children:e.map((function(e,n){return Object(R.jsxs)(J.a.Item,{children:[Object(R.jsx)(J.a.Icon,{verticalAlign:"middle",name:"circle",size:"tiny"}),Object(R.jsxs)(J.a.Content,{children:[Object(R.jsx)(J.a.Header,{children:Object(R.jsx)(ce.a,{properties:{target:"_blank"},children:[e.author,e.title,e.publicationInfo].filter((function(e){return e})).join(", ")})}),Object(R.jsxs)(J.a.Description,{children:[Object(R.jsx)(ce.a,{properties:{target:"_blank"},children:e.page}),e.date?" ["+Object(P.c)(e.date,t)+"]":null]})]})]},n)}))})}function le(e){var t,n,r,i=Object(U.a)(),o=Object(a.useState)(-1),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(a.useState)(""),d=Object(g.a)(l,2),f=d[0],m=d[1];function p(e,t){void 0!==t.index&&s!==t.index?u(t.index):u(-1)}f&&f===e.indi||(u(-1),m(e.indi));var h=[(null===(t=e.images)||void 0===t?void 0:t.length)&&{menuItem:Object(R.jsx)(Z.a.Item,{fitted:!0,onClick:p,children:Object(R.jsx)(X.a,{content:Object(R.jsx)(E.a,{id:"extras.images",defaultMessage:"Images"}),size:"mini",position:"bottom center",trigger:Object(R.jsx)(Q.a,{circular:!0,name:"camera"})})},"images"),render:function(){return Object(R.jsx)($.a.Pane,{children:(t=e.images,!!t&&t.map((function(e,t){return Object(R.jsx)(J.a,{children:Object(R.jsx)(J.a.Item,{children:Object(R.jsx)(ie,{url:e.url,filename:e.filename,title:e.title})})},t)})))});var t}},(null===(n=e.notes)||void 0===n?void 0:n.length)&&{menuItem:Object(R.jsx)(Z.a.Item,{fitted:!0,onClick:p,children:Object(R.jsx)(X.a,{content:Object(R.jsx)(E.a,{id:"extras.notes",defaultMessage:"Notes"}),size:"mini",position:"bottom center",trigger:Object(R.jsx)(Q.a,{circular:!0,name:"sticky note outline"})})},"notes"),render:function(){return Object(R.jsx)($.a.Pane,{children:(t=e.notes,!!(null===t||void 0===t?void 0:t.length)&&t.map((function(e,t){return Object(R.jsx)("div",{children:Object(R.jsx)(se,{lines:e.map((function(e,t){return Object(R.jsx)("i",{children:e},t)}))})},t)})))});var t}},(null===(r=e.sources)||void 0===r?void 0:r.length)&&{menuItem:Object(R.jsx)(Z.a.Item,{fitted:!0,onClick:p,children:Object(R.jsx)(X.a,{content:Object(R.jsx)(E.a,{id:"extras.sources",defaultMessage:"Sources"}),size:"mini",position:"bottom center",trigger:Object(R.jsx)(Q.a,{circular:!0,name:"quote right"})})},"sources"),render:function(){return Object(R.jsx)($.a.Pane,{children:ue(e.sources,i)})}}].flatMap((function(e){return e?[e]:[]}));return h.length?Object(R.jsx)(Y.a.Description,{children:Object(R.jsx)($.a,{className:"event-extras",activeIndex:s,renderActiveOnly:!0,menu:{tabular:!0,attached:!0,compact:!0,borderless:!0},panes:h})}):null}function de(e){var t=Object(H.h)(),n=Object(L.f)(e.person),r=h.parse(t.search);return r.indi=Object(L.k)(e.person.pointer),Object(R.jsx)(Y.a.Meta,{children:Object(R.jsx)(V.b,{to:{pathname:"/view",search:h.stringify(r)},children:n||Object(R.jsx)(E.a,{id:"name.unknown_name",defaultMessage:"N.N."})})})}var fe=["BIRT","BAPM","CHR","FAMS","EVEN","CENS","DEAT","BURI"],me=["MARR","DIV"];function pe(e){var t=Object(U.a)();return Object(R.jsxs)("div",{className:"event-header",children:[Object(R.jsx)(w.a,{as:"span",size:"small",children:Object(R.jsx)(q,{tag:e.event.type})}),e.event.date?Object(R.jsx)(w.a,{as:"span",textAlign:"right",sub:!0,children:Object(P.c)(e.event.date,t)}):null]})}function ge(e,t,n){var r=t.tree.filter((function(e){return["WIFE","HUSB"].includes(e.tag)})).find((function(t){return!t.data.includes(e)}));if(r)return Object(L.b)(r,n,(function(e){return e.indis}))}function he(e,t,n,r){if("DEAT"===e.tag){var a=we(e),i=n.indis[t].tree.filter((function(e){return"BIRT"===e.tag})).map((function(e){return we(e)})).find((function(e){return e}));if(i&&a)return B(null===i||void 0===i?void 0:i.data,null===a||void 0===a?void 0:a.data,r)}}function je(e){var t=e.tree.find((function(e){return"PLAC"===e.tag}));return(null===t||void 0===t?void 0:t.data)?Object(L.c)(t):void 0}function be(e,t){return e.tree.filter((function(e){return"OBJE"===e.tag})).map((function(e){return Object(L.b)(e,t,(function(e){return e.other}))})).map((function(e){return Object(L.e)(e)})).flatMap((function(e){return e?[{url:(null===e||void 0===e?void 0:e.data)||"",filename:Object(L.d)(e)||""}]:[]}))}function Oe(e,t){return e.tree.filter((function(e){return"SOUR"===e.tag})).map((function(e){var n=Object(L.b)(e,t,(function(e){return e.other})),r=n.tree.find((function(e){return"TITL"===e.tag})),a=n.tree.find((function(e){return"ABBR"===e.tag})),i=n.tree.find((function(e){return"AUTH"===e.tag})),o=n.tree.find((function(e){return"PUBL"===e.tag})),c=e.tree.find((function(e){return"PAGE"===e.tag})),s=e.tree.find((function(e){return"DATA"===e.tag})),u=s?we(s):void 0;return{title:(null===r||void 0===r?void 0:r.data)||(null===a||void 0===a?void 0:a.data),author:null===i||void 0===i?void 0:i.data,page:null===c||void 0===c?void 0:c.data,date:u?Object(A.getDate)(u.data):void 0,publicationInfo:null===o||void 0===o?void 0:o.data}}))}function ve(e,t){return e.tree.filter((function(e){return["NOTE","TYPE"].includes(e.tag)})).map((function(e){return Object(L.b)(e,t,(function(e){return e.other}))})).map((function(e){return Object(L.c)(e)}))}function xe(e,t,n,r){return"FAMS"===e.tag?function(e,t,n){var r=Object(L.b)(e,t,(function(e){return e.fams}));return S()(me,(function(e){return r.tree.filter((function(t){return t.tag===e}))})).map((function(e){var a=we(e)||null;return{date:a?Object(A.getDate)(a.data):void 0,type:e.tag,personLink:ge(n,r,t),place:je(e),images:be(e,t),notes:ve(e,t),sources:Oe(e,t),indi:n}}))}(e,t,n):function(e,t,n,r){var a=we(e)||null;return[{date:a?Object(A.getDate)(a.data):void 0,type:e.tag,age:he(e,n,t,r),place:je(e),images:be(e,t),notes:ve(e,t),sources:Oe(e,t),indi:n}]}(e,t,n,r)}function we(e){return e.tree.find((function(e){return"DATE"===e.tag}))}function _e(e){return Object(R.jsx)(Y.a,{children:Object(R.jsxs)(Y.a.Content,{children:[Object(R.jsx)(pe,{event:e.event}),!!e.event.age&&Object(R.jsx)(Y.a.Meta,{children:e.event.age}),!!e.event.personLink&&Object(R.jsx)(de,{person:e.event.personLink}),!!e.event.place&&Object(R.jsx)(Y.a.Description,{children:e.event.place}),Object(R.jsx)(le,{images:e.event.images,notes:e.event.notes,sources:e.event.sources,indi:e.event.indi})]})})}function ke(e){var t=Object(U.a)(),n=S()(fe,(function(n){return e.entries.filter((function(e){return e.tag===n})).map((function(n){return xe(n,e.gedcom,e.indi,t)})).flatMap((function(e){return e})).sort((function(e,t){return Object(P.b)(e.date,t.date)}))}));return n.length?Object(R.jsx)(R.Fragment,{children:n.map((function(e,t){return Object(R.jsx)(_e,{event:e},t)}))}):null}var Ee=["BIRT","BAPM","CHR","EVEN","CENS","DEAT","BURI","NAME","SEX","FAMC","FAMS","NOTE","SOUR"];function Re(e){var t=Object(L.e)(e);return t?Object(R.jsx)("div",{className:"person-image",children:Object(R.jsx)(ie,{url:t.data,filename:Object(L.d)(t)||""})}):null}function ye(e){return Object(R.jsx)(se,{lines:Object(L.c)(e).map((function(e,t){return Object(R.jsx)("i",{children:e},t)}))})}function De(e){var t,n=e.data.replaceAll("/",""),r=null===(t=e.tree.find((function(e){return"TYPE"===e.tag&&"Unknown"!==e.data})))||void 0===t?void 0:t.data;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(w.a,{as:"span",size:"large",children:n||Object(R.jsx)(E.a,{id:"name.unknown_name",defaultMessage:"N.N."})}),n&&r&&Object(R.jsx)(Y.a.Meta,{children:Object(R.jsx)(q,{tag:r})})]})}function Ie(e,t,n){return S()(t,(function(t){return e.filter((function(e){return e.tag===t})).map((function(e){return n(e)}))})).filter((function(e){return null!==e})).map((function(e,t){return Object(R.jsx)(Y.a,{children:Object(R.jsx)(Y.a.Content,{children:e})},t)}))}function Te(e){return e.tree.length>0||e.data&&!e.data.startsWith("@")}function Me(e){return e.filter((function(e){return!Ee.includes(e.tag)})).filter(Te).map((function(e){return function(e){var t=[];return e.data&&t.push.apply(t,Object(C.a)(Object(L.c)(e))),e.tree.filter((function(e){return"NOTE"===e.tag})).forEach((function(e){return Object(L.c)(e).forEach((function(e){return t.push(Object(R.jsx)("i",{children:e}))}))})),t.length?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(w.a,{sub:!0,children:Object(R.jsx)(q,{tag:e.tag})}),Object(R.jsx)("span",{children:Object(R.jsx)(se,{lines:t})})]}):null}(e)})).filter((function(e){return null!==e})).map((function(e,t){return Object(R.jsx)(Y.a,{children:Object(R.jsx)(Y.a.Content,{children:e})},t)}))}function Ce(e){var t=e.gedcom.indis[e.indi].tree,n=t.map((function(t){return Object(L.b)(t,e.gedcom,(function(e){return e.other}))})).filter(Te);return Object(R.jsx)("div",{className:"details",children:Object(R.jsxs)(Y.a.Group,{divided:!0,children:[Ie(t,["NAME"],De),Ie(n,["OBJE"],Re),Object(R.jsx)(ke,{gedcom:e.gedcom,entries:t,indi:e.indi}),Me(n),Ie(n,["NOTE"],ye)]})})}var Ne,Se=n(24),Le=n(36),Ae=n(88);!function(e){e.GEDCOM="gedcom",e.READY="ready",e.PARENT_READY="parent_ready"}(Ne||(Ne={}));var Pe=function(){function e(){Object(Se.a)(this,e)}return Object(Le.a)(e,[{key:"isNewData",value:function(e,t,n){return!1}},{key:"onMessage",value:function(){var e=Object(p.a)(m.a.mark((function e(t,n,r){var a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.message!==Ne.PARENT_READY){e.next=4;break}window.parent.postMessage({message:Ne.READY},"*"),e.next=21;break;case 4:if(t.message!==Ne.GEDCOM){e.next=21;break}if(a=t.gedcom){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,e.next=11,Object(Ae.e)("",a);case 11:i=e.sent,o=Object(L.g)(i.gedcom.head),Object(j.a)("embedded_file_loaded",{event_label:o}),n(i),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),Object(j.a)("embedded_file_error"),r(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){window.parent.postMessage({message:Ne.READY},"*"),window.addEventListener("message",(function(r){return n.onMessage(r.data,e,t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ze=n(83);function We(e,t){return e instanceof ze.a?t.formatMessage({id:"error.".concat(e.code),defaultMessage:e.message},e.args):e.message}var Ge=n.p+"static/media/topola.a3ffa9a5.jpg",Fe=n(721),Be=n(410),Ue=n(400),He=Object(Ue.createMedia)({breakpoints:{small:320,large:768}}),Ve=He.createMediaStyle(),Ke=He.Media,qe=He.MediaContextProvider;function Ye(e){return Object(R.jsx)(V.b,{to:{pathname:"/view",search:h.stringify(e.params)},children:e.text})}function Je(){var e,t=Object(a.useState)(""),n=Object(g.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,D(1);case 3:e.t1=e.sent,(0,e.t0)(e.t1),T();case 6:case"end":return e.stop()}}),e)})))()})),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("p",{children:Object(R.jsx)(E.a,{id:"intro.description",defaultMessage:"Topola Genealogy is a genealogy tree viewer that lets you browse the structure of the family."})}),Object(R.jsx)("p",{children:Object(R.jsx)(E.a,{id:"intro.instructions",defaultMessage:"Use the OPEN FILE or LOAD FROM URL buttons above to load a GEDCOM file. You can export a GEDCOM file from most of the existing genealogy programs and web sites."})}),Object(R.jsx)("h3",{children:Object(R.jsx)(E.a,{id:"intro.examples",defaultMessage:"Examples"})}),Object(R.jsxs)("ul",{children:[Object(R.jsxs)("li",{children:[Object(R.jsx)(Ye,{params:{url:"https://chronoplexsoftware.com/myfamilytree/samples/The%20Kennedy%20Family.gdz"},text:"J. F. Kennedy"})," ","(",Object(R.jsx)(E.a,{id:"intro.from",defaultMessage:"from"})," ",Object(R.jsx)("a",{href:"https://chronoplexsoftware.com/myfamilytree/samples/",children:"chronoplexsoftware.com"}),")"]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Ye,{params:{url:"https://webtreeprint.com/tp_downloader.php?path=famous_gedcoms/shakespeare.ged&file=shakespeare.ged"},text:"Shakespeare"})," ","(",Object(R.jsx)(E.a,{id:"intro.from",defaultMessage:"from"})," ",Object(R.jsx)("a",{href:"https://webtreeprint.com/tp_famous_gedcoms.php",children:"webtreeprint.com"}),")"]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Ye,{params:{indi:"Sk\u0142odowska-2",source:"wikitree"},text:"Maria Sk\u0142odowska-Curie"})," ","(",Object(R.jsx)(E.a,{id:"intro.from",defaultMessage:"from"})," ",Object(R.jsx)("a",{href:"https://www.wikitree.com/wiki/Sk%C5%82odowska-2",children:"wikitree.com"}),")"]})]}),Object(R.jsx)("h3",{children:Object(R.jsx)(E.a,{id:"intro.whats_new",defaultMessage:"What's new"})}),Object(R.jsx)("span",{dangerouslySetInnerHTML:{__html:r}}),Object(R.jsx)("a",{href:"https://github.com/PeWu/topola-viewer/blob/master/CHANGELOG.md",children:Object(R.jsx)(E.a,{id:"intro.full_changelog",defaultMessage:"See full changelog"})}),Object(R.jsx)("h3",{children:Object(R.jsx)(E.a,{id:"intro.privacy",defaultMessage:"Privacy"})}),Object(R.jsx)(E.a,{id:"intro.privacy_note",defaultMessage:'When using the "load from file" option, this site does not send your data anywhere and files loaded from disk do not leave your computer. When using "load from URL", data is passed through the {link} service to deal with an issue with cross-site file loading in the browser (CORS).',values:{link:Object(R.jsx)("a",{href:"https://topolaproxy.bieda.it/",children:"cors-anywhere"})}}),Object(R.jsxs)("p",{className:"ui right aligned version",children:["version: ",(e="2024-03-28 17:58:43 +0100",(null===e||void 0===e?void 0:e.slice(0,16))||"")," (",Object(R.jsx)("a",{href:"https://github.com/PeWu/topola-viewer/commit/".concat("8cc8d23"),children:"8cc8d23"}),")"]})]})}function Ze(){return Object(R.jsxs)("div",{id:"content",children:[Object(R.jsx)("div",{className:"backgroundImage"}),Object(R.jsxs)(Fe.a,{className:"intro",children:[Object(R.jsx)(Fe.a.Content,{as:Ke,greaterThanOrEqual:"large",children:Object(R.jsx)(Fe.a.Header,{children:Object(R.jsx)(E.a,{id:"intro.title",defaultMessage:"Topola Genealogy Viewer"})})}),Object(R.jsxs)(Fe.a.Content,{children:[Object(R.jsx)(Be.a,{as:Ke,greaterThanOrEqual:"large",children:Object(R.jsxs)(Be.a.Row,{children:[Object(R.jsx)(Be.a.Column,{width:5,children:Object(R.jsx)(ee.a,{src:Ge,alt:"Topola logo"})}),Object(R.jsx)(Be.a.Column,{width:11,children:Object(R.jsx)(Je,{})})]})}),Object(R.jsxs)(Ke,{at:"small",children:[Object(R.jsx)(ee.a,{src:Ge,alt:"Topola logo",centered:!0,size:"tiny",className:"blockImage"}),Object(R.jsx)(Je,{})]})]})]})]})}var Xe,Qe=n(727),$e=n(711),et=n(16),tt=n(714);function nt(e){var t=Object(et.a)({},e);return delete t.menuType,Object(R.jsx)(R.Fragment,{children:e.menuType===Xe.Menu?Object(R.jsx)(Z.a.Item,Object(et.a)(Object(et.a)({},t),{},{children:e.children})):Object(R.jsx)(tt.a.Item,Object(et.a)(Object(et.a)({},t),{},{children:e.children}))})}!function(e){e[e.Menu=0]="Menu",e[e.Dropdown=1]="Dropdown"}(Xe||(Xe={}));var rt=n(401),at=n.n(rt),it=n(49),ot=n.n(it),ct=n(402),st=n.n(ct);n(646)(ot.a),n(647)(ot.a),n(648)(ot.a),n(649)(ot.a),n(650)(ot.a);function ut(e){return e.toLocaleLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0142/g,"l")}function lt(e,t){return e.score!==t.score?t.score-e.score:st()(e.ref,t.ref)}var dt=function(){function e(t){Object(Se.a)(this,e),this.index=void 0,this.indiMap=void 0,this.famMap=void 0,this.indiMap=Object(L.i)(t),this.famMap=Object(L.h)(t)}return Object(Le.a)(e,[{key:"initialize",value:function(){var e=this;this.index=ot()((function(){var t=this;e.initMultiLingualLunrWithoutTrimmer(this,["de","en","fr","it","ru"]),this.ref("id"),this.field("id"),this.field("name",{boost:10}),this.field("normalizedName",{boost:8}),this.field("spouseLastName",{boost:2}),this.field("normalizedSpouseLastName",{boost:2}),e.indiMap.forEach((function(n){var r=[n.firstName,n.lastName].join(" "),a=function(e,t,n){return(e.fams||[]).map((function(e){return n.get(e)})).map((function(e){return e&&e.husb})).map((function(e){return e&&t.get(e)})).map((function(e){return e&&e.lastName})).join(" ")}(n,e.indiMap,e.famMap);t.add({id:n.id,name:r,normalizedName:ut(r),spouseLastName:a,normalizedSpouseLastName:ut(a)})}))}))}},{key:"initMultiLingualLunrWithoutTrimmer",value:function(e,t){var n=[],r=[];t.forEach((function(e){"en"===e?("\\w",n.unshift(ot.a.stopWordFilter),n.push(ot.a.stemmer),r.push(ot.a.stemmer)):(ot.a[e].wordCharacters,ot.a[e].stopWordFilter&&n.unshift(ot.a[e].stopWordFilter),ot.a[e].stemmer&&(n.push(ot.a[e].stemmer),r.push(ot.a[e].stemmer)))})),e.pipeline.reset(),e.pipeline.add.apply(e.pipeline,n),e.searchPipeline&&(e.searchPipeline.reset(),e.searchPipeline.add.apply(e.searchPipeline,r))}},{key:"search",value:function(e){var t=this,n=e.split(" ").filter((function(e){return!!e})).map((function(e){return"".concat(e," ").concat(e,"*")})).join(" ");return this.index.search(n).sort(lt).slice(0,8).map((function(e){return{id:e.ref,indi:t.indiMap.get(e.ref)}}))}}]),e}();var ft=n(713);function mt(e){var t=[e.indi.firstName,e.indi.lastName].join(" ").trim();return e.id.length>8?t:Object(R.jsxs)(R.Fragment,{children:[t," ",Object(R.jsxs)("i",{children:["(",e.id,")"]})]})}function pt(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(a.useRef)(),d=Object(U.a)();function f(e){var t=Object(P.c)(e.birth,d),n=Object(P.c)(e.death,d);return n?"".concat(t," \u2013 ").concat(n):t}var m=Object(a.useRef)(at()((function(e){if(e){var t=l.current.search(e).map((function(e){return function(e){return{id:e.id,key:e.id,title:mt(e),description:f(e.indi)}}(e)}));i(t)}}),200));return Object(a.useEffect)((function(){l.current=function(e){var t=new dt(e);return t.initialize(),t}(e.data)}),[e.data]),Object(R.jsx)(ft.a,{onSearchChange:function(e,t){return n=t.value,m.current(n),void u(n);var n},onResultSelect:function(t,n){return r=n.result.id,Object(j.a)("search_result_selected"),e.onSelection({id:r,generation:0}),void u("");var r},results:r,noResultsMessage:d.formatMessage({id:"menu.search.no_results",defaultMessage:"No results found"}),placeholder:d.formatMessage({id:"menu.search.placeholder",defaultMessage:"Search for people"}),selectFirstResult:!0,value:s,id:"search"})}var gt=n(287),ht=n.n(gt);function jt(e){var t=e.toLowerCase();return t.endsWith(".jpg")||t.endsWith(".png")}function bt(e){var t=Object(H.g)(),n=Object(H.h)();function r(){return(r=Object(p.a)(m.a.mark((function e(r){var a,i,o,c,s,u,l,d,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r.target.files)&&a.length){e.next=3;break}return e.abrupt("return");case 3:return i=Array.from(a),r.target.value="",Object(j.a)("upload_files_selected",{event_value:a.length}),o=1===i.length?i[0]:i.find((function(e){return e.name.toLowerCase().endsWith(".ged")}))||i[0],e.next=9,Object(Ae.d)(o);case 9:c=e.sent,s=c.gedcom,u=c.images,i.filter((function(e){return e.name!==o.name&&jt(e.name)})).forEach((function(e){return u.set(e.name,URL.createObjectURL(e))})),l=Array.from(u.keys()).sort().join("|"),d=ht()(ht()(s)+l),f=h.parse(n.search),(f.file===d?t.replace:t.push)({pathname:"/view",search:h.stringify({file:d}),state:{data:s,images:u}});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a=Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Q.a,{name:"folder open"}),Object(R.jsx)(E.a,{id:"menu.open_file",defaultMessage:"Open file"})]});return Object(R.jsxs)(R.Fragment,{children:[e.menuType===Xe.Menu?Object(R.jsx)("label",{htmlFor:"fileInput",children:Object(R.jsx)(Z.a.Item,{as:"a",children:a})}):Object(R.jsx)(tt.a.Item,{as:"label",htmlFor:"fileInput",children:a}),Object(R.jsx)("input",{className:"hidden",type:"file",accept:".ged,.gdz,.gedzip,.zip,image/*",id:"fileInput",multiple:!0,onChange:function(e){return r.apply(this,arguments)}})]})}var Ot=n(715),vt=n(710);function xt(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(a.useRef)(null),d=Object(H.g)();function f(){i(!1),s&&(Object(j.a)("url_selected"),d.push({pathname:"/view",search:h.stringify({url:s})}))}return Object(a.useEffect)((function(){r&&(u(""),l.current.focus())}),[r]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(nt,{onClick:function(){return i(!0)},menuType:e.menuType,children:[Object(R.jsx)(Q.a,{name:"cloud download"}),Object(R.jsx)(E.a,{id:"menu.load_from_url",defaultMessage:"Load from URL"})]}),Object(R.jsxs)(x.a,{open:r,onClose:function(){return i(!1)},centered:!1,children:[Object(R.jsxs)(w.a,{children:[Object(R.jsx)(Q.a,{name:"cloud download"}),Object(R.jsx)(E.a,{id:"load_from_url.title",defaultMessage:"Load from URL"})]}),Object(R.jsx)(x.a.Content,{children:Object(R.jsxs)(Ot.a,{onSubmit:f,children:[Object(R.jsx)(vt.a,{placeholder:"https://",fluid:!0,value:s,onChange:function(e,t){return u(t.value)},ref:l}),Object(R.jsx)("p",{children:Object(R.jsx)(E.a,{id:"load_from_url.comment",defaultMessage:"Data from the URL will be loaded through {link} to avoid CORS issues.",values:{link:Object(R.jsx)("a",{href:"https://topolaproxy.bieda.it/",children:"topolaproxy.bieda.it (cors-anywhere proxy)"})}})})]})}),Object(R.jsxs)(x.a.Actions,{children:[Object(R.jsx)(_.a,{secondary:!0,onClick:function(){return i(!1)},children:Object(R.jsx)(E.a,{id:"load_from_url.cancel",defaultMessage:"Cancel"})}),Object(R.jsx)(_.a,{primary:!0,onClick:f,children:Object(R.jsx)(E.a,{id:"load_from_url.load",defaultMessage:"Load"})})]})]})]})}var wt,_t=n.p+"static/media/wikitree.7bffea31.png",kt=n(113);function Et(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(a.useRef)(null),d=Object(H.g)(),f=Object(H.h)();function m(){if(i(!1),s){Object(j.a)("wikitree_id_selected");var e=h.parse(f.search),t=void 0===e.standalone||e.standalone;d.push({pathname:"/view",search:h.stringify({indi:s,source:"wikitree",standalone:t})})}}function p(e,t){e.preventDefault(),u(t),l.current.focus()}return Object(a.useEffect)((function(){r&&(u(""),l.current.focus())}),[r]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(nt,{menuType:e.menuType,onClick:function(){return i(!0)},children:[Object(R.jsx)("img",{src:_t,alt:"WikiTree logo",className:"menu-icon"}),Object(R.jsx)(E.a,{id:"menu.select_wikitree_id",defaultMessage:"Select WikiTree ID"})]}),Object(R.jsxs)(x.a,{open:r,onClose:function(){return i(!1)},centered:!1,children:[Object(R.jsxs)(w.a,{children:[Object(R.jsx)("img",{src:_t,alt:"WikiTree logo",style:{width:"32px",height:"32px"}}),Object(R.jsx)(E.a,{id:"select_wikitree_id.title",defaultMessage:"Select WikiTree ID"})]}),Object(R.jsx)(x.a.Content,{children:Object(R.jsxs)(Ot.a,{onSubmit:m,children:[Object(R.jsx)("p",{children:Object(R.jsx)(E.a,{id:"select_wikitree_id.comment",defaultMessage:"Enter a {wikiTreeLink} profile ID. Examples: {example1}, {example2}.",values:{wikiTreeLink:Object(R.jsx)("a",{href:"https://wikitree.com/",target:"_blank",rel:"noopener noreferrer",children:"WikiTree"}),example1:Object(R.jsx)("span",{onClick:function(e){return p(e,"Wojtyla-13")},className:"link-span",children:"Wojtyla-13"}),example2:Object(R.jsx)("span",{onClick:function(e){return p(e,"Sk\u0142odowska-2")},className:"link-span",children:"Sk\u0142odowska-2"})}})}),Object(R.jsx)(vt.a,{fluid:!0,value:s,onChange:function(e,t){return u(t.value)},ref:l})]})}),Object(R.jsxs)(x.a.Actions,{children:[Object(R.jsx)(_.a,{secondary:!0,onClick:function(){return i(!1)},children:Object(R.jsx)(E.a,{id:"select_wikitree_id.cancel",defaultMessage:"Cancel"})}),Object(R.jsx)(_.a,{primary:!0,onClick:m,children:Object(R.jsx)(E.a,{id:"select_wikitree_id.load",defaultMessage:"Load"})})]})]})]})}function Rt(e){var t=Object(U.a)();var n=Object(kt.getLoggedInUserName)();if(!n)return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(nt,{menuType:e.menuType,onClick:function(){var e="".concat("https://apps.wikitree.com/apps/wiech13/topola-viewer").concat(window.location.hash);Object(kt.navigateToLoginPage)(e)},children:[Object(R.jsx)("img",{src:_t,alt:"WikiTree logo",className:"menu-icon"}),Object(R.jsx)(E.a,{id:"menu.wikitree_login",defaultMessage:"Log in to WikiTree"})]})});var r=t.formatMessage({id:"menu.wikitree_popup_username",defaultMessage:"Logged in to WikiTree as {username}"},{username:n});return Object(R.jsxs)(nt,{menuType:e.menuType,title:r,children:[Object(R.jsx)("img",{src:_t,alt:"WikiTree logo",className:"menu-icon"}),Object(R.jsx)(E.a,{id:"menu.wikitree_logged_in",defaultMessage:"Logged in"})]})}function yt(e){var t=Object(H.g)(),n=Object(H.h)();function r(e){var r=h.parse(n.search);r.view!==e&&(r.view=e,n.search=h.stringify(r),t.push(n))}function a(t){if(!e.showingChart)return null;var n=Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(tt.a.Item,{onClick:function(){return r("hourglass")},children:[Object(R.jsx)(Q.a,{name:"hourglass"}),Object(R.jsx)(E.a,{id:"menu.hourglass",defaultMessage:"Hourglass chart"})]}),e.allowAllRelativesChart?Object(R.jsxs)(tt.a.Item,{onClick:function(){return r("relatives")},children:[Object(R.jsx)(Q.a,{name:"users"}),Object(R.jsx)(E.a,{id:"menu.relatives",defaultMessage:"All relatives"})]}):null,Object(R.jsxs)(tt.a.Item,{onClick:function(){return r("fancy")},children:[Object(R.jsx)(Q.a,{name:"users"}),Object(R.jsx)(E.a,{id:"menu.fancy",defaultMessage:"Fancy tree (experimental)"})]})]});switch(t){case wt.LARGE:return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(Z.a.Item,{onClick:e.eventHandlers.onPrint,children:[Object(R.jsx)(Q.a,{name:"print"}),Object(R.jsx)(E.a,{id:"menu.print",defaultMessage:"Print"})]}),Object(R.jsx)(tt.a,{trigger:Object(R.jsxs)("div",{children:[Object(R.jsx)(Q.a,{name:"download"}),Object(R.jsx)(E.a,{id:"menu.download",defaultMessage:"Download"})]}),className:"item",children:Object(R.jsxs)(tt.a.Menu,{children:[Object(R.jsx)(tt.a.Item,{onClick:e.eventHandlers.onDownloadPdf,children:Object(R.jsx)(E.a,{id:"menu.pdf_file",defaultMessage:"PDF file"})}),Object(R.jsx)(tt.a.Item,{onClick:e.eventHandlers.onDownloadPng,children:Object(R.jsx)(E.a,{id:"menu.png_file",defaultMessage:"PNG file"})}),Object(R.jsx)(tt.a.Item,{onClick:e.eventHandlers.onDownloadSvg,children:Object(R.jsx)(E.a,{id:"menu.svg_file",defaultMessage:"SVG file"})})]})}),Object(R.jsx)(tt.a,{trigger:Object(R.jsxs)("div",{children:[Object(R.jsx)(Q.a,{name:"eye"}),Object(R.jsx)(E.a,{id:"menu.view",defaultMessage:"View"})]}),className:"item",children:Object(R.jsx)(tt.a.Menu,{children:n})}),Object(R.jsx)(pt,Object(et.a)({data:e.data,onSelection:e.eventHandlers.onSelection},e))]});case wt.SMALL:return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(tt.a.Item,{onClick:e.eventHandlers.onPrint,children:[Object(R.jsx)(Q.a,{name:"print"}),Object(R.jsx)(E.a,{id:"menu.print",defaultMessage:"Print"})]}),Object(R.jsx)(tt.a.Divider,{}),Object(R.jsxs)(tt.a.Item,{onClick:e.eventHandlers.onDownloadPdf,children:[Object(R.jsx)(Q.a,{name:"download"}),Object(R.jsx)(E.a,{id:"menu.download_pdf",defaultMessage:"Download PDF"})]}),Object(R.jsxs)(tt.a.Item,{onClick:e.eventHandlers.onDownloadPng,children:[Object(R.jsx)(Q.a,{name:"download"}),Object(R.jsx)(E.a,{id:"menu.download_png",defaultMessage:"Download PNG"})]}),Object(R.jsxs)(tt.a.Item,{onClick:e.eventHandlers.onDownloadSvg,children:[Object(R.jsx)(Q.a,{name:"download"}),Object(R.jsx)(E.a,{id:"menu.download_svg",defaultMessage:"Download SVG"})]}),Object(R.jsx)(tt.a.Divider,{}),n,Object(R.jsx)(tt.a.Divider,{})]})}}function i(){return Object(R.jsx)(Z.a.Item,{children:Object(R.jsx)("b",{children:"Topola Genealogy"})})}function o(t){if(!e.standalone&&e.showWikiTreeMenus)switch(t){case wt.LARGE:return Object(R.jsx)(Et,Object(et.a)({menuType:Xe.Menu},e));case wt.SMALL:return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Et,Object(et.a)({menuType:Xe.Dropdown},e)),Object(R.jsx)(tt.a.Divider,{})]})}if(!e.standalone)return null;switch(t){case wt.LARGE:return e.showingChart?Object(R.jsx)(tt.a,{trigger:Object(R.jsxs)("div",{children:[Object(R.jsx)(Q.a,{name:"folder open"}),Object(R.jsx)(E.a,{id:"menu.open",defaultMessage:"Open"})]}),className:"item",children:Object(R.jsxs)(tt.a.Menu,{children:[Object(R.jsx)(bt,Object(et.a)({menuType:Xe.Dropdown},e)),Object(R.jsx)(xt,Object(et.a)({menuType:Xe.Dropdown},e)),Object(R.jsx)(Et,Object(et.a)({menuType:Xe.Dropdown},e))]})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(bt,Object(et.a)({menuType:Xe.Menu},e)),Object(R.jsx)(xt,Object(et.a)({menuType:Xe.Menu},e)),Object(R.jsx)(Et,Object(et.a)({menuType:Xe.Menu},e))]});case wt.SMALL:return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(bt,Object(et.a)({menuType:Xe.Dropdown},e)),Object(R.jsx)(xt,Object(et.a)({menuType:Xe.Dropdown},e)),Object(R.jsx)(Et,Object(et.a)({menuType:Xe.Dropdown},e)),Object(R.jsx)(tt.a.Divider,{})]})}}function c(t){return e.showWikiTreeMenus?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Rt,Object(et.a)({menuType:t===wt.SMALL?Xe.Dropdown:Xe.Menu},e)),t===wt.SMALL?Object(R.jsx)(tt.a.Divider,{}):null]}):null}return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Z.a,{as:Ke,greaterThanOrEqual:"large",attached:"top",inverted:!0,color:"blue",size:"large",children:Object(R.jsxs)(R.Fragment,{children:[e.standalone?Object(R.jsx)(V.b,{to:"/",children:i()}):null,o(wt.LARGE),a(wt.LARGE),Object(R.jsxs)(Z.a.Menu,{position:"right",children:[c(wt.LARGE),Object(R.jsx)(Z.a.Item,{href:"https://github.com/PeWu/topola-viewer",target:"_blank",rel:"noopener noreferrer",children:Object(R.jsx)(E.a,{id:"menu.github",defaultMessage:"GitHub project"})})]})]})}),Object(R.jsx)(Z.a,{as:Ke,at:"small",attached:"top",inverted:!0,color:"blue",size:"large",children:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(tt.a,{trigger:Object(R.jsx)("div",{children:Object(R.jsx)(Q.a,{name:"sidebar"})}),className:"item",icon:null,children:Object(R.jsxs)(tt.a.Menu,{children:[o(wt.SMALL),a(wt.SMALL),c(wt.SMALL),Object(R.jsx)(tt.a.Item,{href:"https://github.com/PeWu/topola-viewer",target:"_blank",rel:"noopener noreferrer",children:Object(R.jsx)(E.a,{id:"menu.github",defaultMessage:"GitHub project"})})]})}),e.standalone?Object(R.jsx)(V.b,{to:"/",children:i()}):i()]})})]})}!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(wt||(wt={}));var Dt,It,Tt,Mt=n(728);!function(e){e[e.NO_COLOR=0]="NO_COLOR",e[e.COLOR_BY_SEX=1]="COLOR_BY_SEX",e[e.COLOR_BY_GENERATION=2]="COLOR_BY_GENERATION"}(Dt||(Dt={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(It||(It={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(Tt||(Tt={}));var Ct={color:Dt.COLOR_BY_GENERATION,id:It.SHOW,sex:Tt.SHOW},Nt=new Map([["n",Dt.NO_COLOR],["g",Dt.COLOR_BY_GENERATION],["s",Dt.COLOR_BY_SEX]]),St=new Map;Nt.forEach((function(e,t){return St.set(e,t)}));var Lt=new Map([["h",It.HIDE],["s",It.SHOW]]),At=new Map;Lt.forEach((function(e,t){return At.set(e,t)}));var Pt=new Map([["h",Tt.HIDE],["s",Tt.SHOW]]),zt=new Map;function Wt(e){var t,n,r,a,i,o,c=function(t){var n=e[t];return"string"===typeof n?n:void 0};return{color:null!==(t=Nt.get(null!==(n=c("c"))&&void 0!==n?n:""))&&void 0!==t?t:Ct.color,id:null!==(r=Lt.get(null!==(a=c("i"))&&void 0!==a?a:""))&&void 0!==r?r:Ct.id,sex:null!==(i=Pt.get(null!==(o=c("s"))&&void 0!==o?o:""))&&void 0!==i?i:Ct.sex}}function Gt(e){return Object(R.jsx)(Ot.a,{className:"details",children:Object(R.jsxs)(Y.a.Group,{children:[Object(R.jsx)(Y.a,{children:Object(R.jsxs)(Y.a.Content,{children:[Object(R.jsx)(w.a,{sub:!0,children:Object(R.jsx)(E.a,{id:"config.colors",defaultMessage:"Colors"})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.colors.NO_COLOR",defaultMessage:"none"}),name:"checkboxRadioGroup",value:"none",checked:e.config.color===Dt.NO_COLOR,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{color:Dt.NO_COLOR}))}})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.colors.COLOR_BY_GENERATION",defaultMessage:"by generation"}),name:"checkboxRadioGroup",value:"generation",checked:e.config.color===Dt.COLOR_BY_GENERATION,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{color:Dt.COLOR_BY_GENERATION}))}})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.colors.COLOR_BY_SEX",defaultMessage:"by sex"}),name:"checkboxRadioGroup",value:"gender",checked:e.config.color===Dt.COLOR_BY_SEX,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{color:Dt.COLOR_BY_SEX}))}})})]})}),Object(R.jsx)(Y.a,{children:Object(R.jsxs)(Y.a.Content,{children:[Object(R.jsx)(w.a,{sub:!0,children:Object(R.jsx)(E.a,{id:"config.ids",defaultMessage:"IDs"})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.ids.HIDE",defaultMessage:"hide"}),name:"checkboxRadioGroup",value:"hide",checked:e.config.id===It.HIDE,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{id:It.HIDE}))}})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.ids.SHOW",defaultMessage:"show"}),name:"checkboxRadioGroup",value:"show",checked:e.config.id===It.SHOW,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{id:It.SHOW}))}})})]})}),Object(R.jsx)(Y.a,{children:Object(R.jsxs)(Y.a.Content,{children:[Object(R.jsx)(w.a,{sub:!0,children:Object(R.jsx)(E.a,{id:"config.sex",defaultMessage:"Sex"})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.sex.HIDE",defaultMessage:"hide"}),name:"checkboxRadioGroup",value:"hide",checked:e.config.sex===Tt.HIDE,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{sex:Tt.HIDE}))}})}),Object(R.jsx)(Ot.a.Field,{className:"no-margin",children:Object(R.jsx)(Mt.a,{radio:!0,label:Object(R.jsx)(E.a,{tagName:"label",id:"config.sex.SHOW",defaultMessage:"show"}),name:"checkboxRadioGroup",value:"show",checked:e.config.sex===Tt.SHOW,onClick:function(){return e.onChange(Object(et.a)(Object(et.a)({},e.config),{},{sex:Tt.SHOW}))}})})]})})]})})}Pt.forEach((function(e,t){return zt.set(e,t)}));var Ft,Bt=n(91),Ut=n(179),Ht=n(122),Vt=n(288),Kt=n(209),qt=(n(123),n(168));function Yt(e,t){var n=Object(Kt.a)("#svgContainer").node(),r=t.transform.k,a=Object(Ut.a)([0,(n.clientWidth-e[0]*r)/2]),i=Object(Ut.a)([0,(n.clientHeight-e[1]*r)/2]);Object(Kt.a)("#chartSvg").attr("width",e[0]*r).attr("height",e[1]*r).attr("transform","translate(".concat(a,", ").concat(i,")")),Object(Kt.a)("#chart").attr("transform","scale(".concat(r,")")),n.scrollLeft=-t.transform.x,n.scrollTop=-t.transform.y}function Jt(){var e=Object(Kt.a)("#svgContainer").node(),t=e.scrollLeft+e.clientWidth/2,n=e.scrollTop+e.clientHeight/2,r=Object(qt.b)(e).k;Object(Kt.a)(e).call(Object(qt.a)().translateTo,t/r,n/r)}function Zt(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e,n){t.onload=function(t){return e(t.target.result)}}))}function Xt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(p.a)(m.a.mark((function e(t){var n,r,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.href.baseVal){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,fetch(n);case 6:return r=e.sent,e.next=9,r.blob();case 9:return a=e.sent,e.next=12,Zt(a);case 12:i=e.sent,t.href.baseVal=i,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.warn("Failed to load image:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}function $t(e){return en.apply(this,arguments)}function en(){return(en=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(t.getElementsByTagName("image")),e.next=3,Promise.all(n.map(Xt));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e){var t=new Image;return t.src=URL.createObjectURL(e),new Promise((function(e,n){t.addEventListener("load",(function(){return e(t)}))}))}function nn(e){var t=document.createElement("canvas");t.width=2*e.width,t.height=2*e.height;var n=t.getContext("2d"),r=n.fillStyle;return n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.fillStyle=r,n.drawImage(e,0,0,t.width,t.height),t}function rn(e,t){return new Promise((function(n,r){e.toBlob((function(e){e?n(e):r()}),t)}))}function an(){var e=document.getElementById("chartSvg").cloneNode(!0);e.removeAttribute("transform");var t=Object(Kt.a)("#svgContainer").node(),n=Object(qt.b)(t).k;return e.setAttribute("width",String(Number(e.getAttribute("width"))/n)),e.setAttribute("height",String(Number(e.getAttribute("height"))/n)),e.querySelector("#chart").removeAttribute("transform"),e}function on(){return cn.apply(this,arguments)}function cn(){return(cn=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=an(),e.next=3,$t(t);case 3:return e.abrupt("return",(new XMLSerializer).serializeToString(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(){var e=document.createElement("iframe");e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.onload=function(){e.contentDocument.open(),e.contentDocument.write((new XMLSerializer).serializeToString(an())),e.contentDocument.close(),setTimeout((function(){e.contentWindow.focus(),e.contentWindow.print(),e.parentNode.removeChild(e)}),500)},document.body.appendChild(e)}function un(){return(un=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on();case 2:t=e.sent,n=new Blob([t],{type:"image/svg+xml"}),Object(Vt.saveAs)(n,"topola.svg");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(){return dn.apply(this,arguments)}function dn(){return(dn=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on();case 2:return t=e.sent,n=new Blob([t],{type:"image/svg+xml"}),e.t0=nn,e.next=7,tn(n);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(){return mn.apply(this,arguments)}function mn(){return(mn=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln();case 2:return t=e.sent,e.next=5,rn(t,"image/png");case 5:n=e.sent,Object(Vt.saveAs)(n,"topola.png");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(){return gn.apply(this,arguments)}function gn(){return(gn=Object(p.a)(m.a.mark((function e(){var t,r,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,1104));case 2:return t=e.sent,r=t.default,e.next=6,ln();case 6:a=e.sent,(i=new r({orientation:a.width>a.height?"l":"p",unit:"pt",format:[a.width,a.height]})).addImage(a,"PNG",0,0,a.width,a.height,"NONE"),i.save("topola.pdf");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.Hourglass=0]="Hourglass",e[e.Relatives=1]="Relatives",e[e.Fancy=2]="Fancy"}(Ft||(Ft={}));var hn=new Map([[Dt.NO_COLOR,A.ChartColors.NO_COLOR],[Dt.COLOR_BY_GENERATION,A.ChartColors.COLOR_BY_GENERATION],[Dt.COLOR_BY_SEX,A.ChartColors.COLOR_BY_SEX]]);function jn(e){switch(e){case Ft.Hourglass:return A.HourglassChart;case Ft.Relatives:return A.RelativesChart;case Ft.Fancy:return A.FancyChart;default:return A.HourglassChart}}function bn(e){switch(e){case Ft.Fancy:return A.CircleRenderer;default:return A.DetailedRenderer}}var On=function(){function e(){Object(Se.a)(this,e),this.chart=void 0,this.animating=!1,this.rerenderRequired=!1,this.zoomBehavior=void 0,this.rerenderProps=void 0,this.rerenderResetPosition=void 0}return Object(Le.a)(e,[{key:"zoom",value:function(e){var t=Object(Kt.a)("#svgContainer");this.zoomBehavior.scaleBy(t,e)}},{key:"renderChart",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{initialRender:!1,resetPosition:!1};if(!r.initialRender&&this.animating)return this.rerenderRequired=!0,this.rerenderProps=e,void(this.rerenderResetPosition=r.resetPosition);if(r.initialRender||!e.freezeAnimation){r.initialRender?(Object(Kt.a)("#chart").node().innerHTML="",this.chart=Object(A.createChart)({json:e.data,chartType:jn(e.chartType),renderer:bn(e.chartType),svgSelector:"#chart",indiCallback:function(t){return e.onSelection(t)},colors:hn.get(e.colors),animate:!0,updateSvgSize:!1,locale:t.locale})):this.chart.setData(e.data);var a=this.chart.render({startIndi:e.selection.id,baseGeneration:e.selection.generation}),i=Object(Kt.a)("#chartSvg"),o=Object(Kt.a)("#svgContainer").node(),c=Object(qt.b)(o).k,s=Object(Ht.a)([1,c,o.clientWidth/a.size[0],o.clientHeight/a.size[1]]),u=[Object(Ut.a)([.1,s]),2];this.zoomBehavior=Object(qt.a)().scaleExtent(u).translateExtent([[0,0],a.size]).on("zoom",(function(e){return Yt(a.size,e)})),Object(Kt.a)(o).on("scroll",Jt).call(this.zoomBehavior);var l=function(e){return function(){var t=Object(Bt.a)(o.scrollTop,e);return function(e){o.scrollTop=t(e)}}},d=function(e){return function(){var t=Object(Bt.a)(o.scrollLeft,e);return function(e){o.scrollLeft=t(e)}}},f=o.clientWidth/2-a.origin[0]*c,m=o.clientHeight/2-a.origin[1]*c,p=Object(Ut.a)([0,(o.clientWidth-a.size[0]*c)/2]),g=Object(Ut.a)([0,(o.clientHeight-a.size[1]*c)/2]),h=i.transition().delay(200).duration(500),j=r.initialRender?i:h;j.attr("transform","translate(".concat(p,", ").concat(g,")")).attr("width",a.size[0]*c).attr("height",a.size[1]*c),r.resetPosition&&(r.initialRender?(o.scrollLeft=-f,o.scrollTop=-m):h.tween("scrollLeft",d(-f)).tween("scrollTop",l(-m))),this.animating=!0,a.animationPromise.then((function(){n.animating=!1,n.rerenderRequired&&(n.rerenderRequired=!1,n.renderChart(n.rerenderProps,t,{initialRender:!1,resetPosition:!!n.rerenderResetPosition}))}))}}}]),e}();function vn(e){var t=Object(a.useRef)(new On),n=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}(e),r=Object(U.a)();return Object(a.useEffect)((function(){if(n){var a=e.chartType!==(null===n||void 0===n?void 0:n.chartType)||e.colors!==(null===n||void 0===n?void 0:n.colors)||e.hideIds!==(null===n||void 0===n?void 0:n.hideIds)||e.hideSex!==(null===n||void 0===n?void 0:n.hideSex),i=e.chartType!==(null===n||void 0===n?void 0:n.chartType)||e.data!==n.data||e.selection!==n.selection;t.current.renderChart(e,r,{initialRender:a,resetPosition:i})}else t.current.renderChart(e,r,{initialRender:!0,resetPosition:!0})})),Object(R.jsxs)("div",{id:"svgContainer",children:[Object(R.jsxs)(Ke,{greaterThanOrEqual:"large",className:"zoom",children:[Object(R.jsx)("button",{className:"zoom-in",onClick:function(){return t.current.zoom(1.3)},children:"+"}),Object(R.jsx)("button",{className:"zoom-out",onClick:function(){return t.current.zoom(1/1.3)},children:"\u2212"})]}),Object(R.jsx)("svg",{id:"chartSvg",children:Object(R.jsx)("g",{id:"chart"})})]})}var xn=n(403),wn="topola-viewer",_n="~Private";function kn(e){try{return sessionStorage.getItem(e)}catch(t){console.warn("Failed to load data from session storage: "+t)}return null}function En(e,t){try{sessionStorage.setItem(e,t)}catch(n){console.warn("Failed to store data in session storage: "+n)}}function Rn(e){return Object.assign({appId:wn},e?{apiUrl:"https://topolaproxy.bieda.it/https://api.wikitree.com/api.php"}:{})}function yn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(p.a)(m.a.mark((function e(t,n){var r,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="wikitree:ancestors:".concat(t),!(a=kn(r))){e.next=4;break}return e.abrupt("return",JSON.parse(a));case 4:return e.next=6,Object(kt.getAncestors)(t,{},Rn(n));case 6:return i=e.sent,En(r,JSON.stringify(i)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(p.a)(m.a.mark((function e(t,n){var r,a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],a=[],t.forEach((function(e){var t=kn("wikitree:relatives:".concat(e));t?r.push(JSON.parse(t)):a.push(e)})),0!==a.length){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,Object(kt.getRelatives)(a,{getChildren:!0,getSpouses:!0},Rn(n));case 7:if(i=e.sent){e.next=11;break}throw o=a[0],new ze.a("WIKITREE_PROFILE_NOT_FOUND","WikiTree profile ".concat(o," not found"),{id:o});case 11:return i.forEach((function(e){En("wikitree:relatives:".concat(e.Name),JSON.stringify(e))})),e.abrupt("return",r.concat(i));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||Object(kt.getLoggedInUserName)()||!t){e.next=5;break}return e.next=3,Object(kt.clientLogin)(t,{appId:wn});case 3:"Success"===e.sent.result&&sessionStorage.clear();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(p.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In([t],n);case 2:if(null===(r=e.sent[0])||void 0===r?void 0:r.Name){e.next=6;break}throw a=t,new ze.a("WIKITREE_PROFILE_NOT_ACCESSIBLE","WikiTree profile ".concat(a," is not accessible. Try logging in."),{id:a});case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){return Object.values(e.Spouses||{}).map((function(e){return e.Name}))}function An(e,t){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(p.a)(m.a.mark((function e(t,n){var r,a,i,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return yn(e,n)})));case 2:return r=e.sent,a=r.flat().map((function(e){return e.Name})).filter((function(e){return!!e})),e.next=6,In(a,n);case 6:return i=e.sent,o=new Map,c=new Map,r.forEach((function(e,t){var n=1e3*t;e.forEach((function(e){e.Id<0&&(e.Id-=n,e.Name="".concat(_n).concat(e.Id)),e.Father<0&&(e.Father-=n,o.set(e.Id,e.Father)),e.Mother<0&&(e.Mother-=n,c.set(e.Id,e.Mother))}))})),i.forEach((function(e){var t=o.get(e.Id);t&&(e.Father=t);var n=c.get(e.Id);n&&(e.Mother=n)})),s=r.flat().filter((function(e){return e.Id<0})),e.abrupt("return",i.concat(s));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(p.a)(m.a.mark((function e(t,n){var r,a,i,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=5,i=[t],o=0;case 4:if(!(i.length>0&&o<=a)){e.next=15;break}return e.next=7,In(i,n);case 7:c=e.sent,r.push.apply(r,Object(C.a)(c)),s=c.flatMap((function(e){return Object.values(e.Spouses||{})})),r.push.apply(r,Object(C.a)(s)),i=c.flatMap((function(e){return Object.values(e.Children||{}).map((function(e){return e.Name}))})),o++,e.next=4;break;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e,t){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(p.a)(m.a.mark((function e(t,n){var r,a,i,o,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="apps.wikitree.com"!==window.location.hostname,e.next=3,Mn(n,r);case 3:return e.next=5,Nn(t,r);case 5:return a=e.sent,i=Ln(a),o=An([t].concat(i),r),c=zn(t,r),e.t0=[],e.t1=C.a,e.next=13,o;case 13:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=C.a,e.next=18,c;case 18:return e.t5=e.sent,e.t6=(0,e.t4)(e.t5),s=e.t0.concat.call(e.t0,e.t3,e.t6),e.abrupt("return",Array.from(new Map(s.map((function(e){return[e.Id,e]}))).values()));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e,t){var n=function(e){var t=new Map;return e.forEach((function(e){if(e.Mother||e.Father){var n=Kn(e.Mother,e.Father);rr(t,e.Mother).add(n),rr(t,e.Father).add(n)}e.Spouses&&Object.values(e.Spouses).forEach((function(n){var r=Kn(e.Id,n.Id);rr(t,e.Id).add(r),rr(t,n.Id).add(r)}))})),t}(e);return e.map((function(e){var r=function(e,t){var n={id:e.Name};e.Name.startsWith(_n)&&(n.hideId=!0,n.firstName=t.formatMessage({id:"wikitree.private",defaultMessage:"Private"}));e.FirstName&&"Unknown"!==e.FirstName?n.firstName=e.FirstName:e.RealName&&"Unknown"!==e.RealName&&(n.firstName=e.RealName);"Unknown"!==e.LastNameAtBirth&&(n.lastName=e.LastNameAtBirth);(e.Mother||e.Father)&&(n.famc=Kn(e.Mother,e.Father));"Male"===e.Gender?n.sex="M":"Female"===e.Gender&&(n.sex="F");if(e.BirthDate&&"0000-00-00"!==e.BirthDate||e.BirthLocation||"unknown"!==e.BirthDateDecade){var r=Jn(e.BirthDate,e.DataStatus&&e.DataStatus.BirthDate||void 0)||Zn(e.BirthDateDecade);n.birth=Object.assign({},r,{place:e.BirthLocation})}if(e.DeathDate&&"0000-00-00"!==e.DeathDate||e.DeathLocation||"unknown"!==e.DeathDateDecade){var a=Jn(e.DeathDate,e.DataStatus&&e.DataStatus.DeathDate||void 0)||Zn(e.DeathDateDecade);n.death=Object.assign({},a,{place:e.DeathLocation})}e.PhotoData&&(n.images=[{url:"https://www.wikitree.com".concat(e.PhotoData.url),title:e.Photo}]);return n}(e,t);return r.fams=Array.from(rr(n,e.Id)),r}))}function Un(e){var t=new Map(e.map((function(e){return[e.Id,e.Name]}))),n=function(e){var t=new Map;return e.forEach((function(e){if(e.Mother||e.Father){var n=Kn(e.Mother,e.Father);rr(t,n).add(e.Id)}})),t}(e),r=function(e){var t=new Map;return e.forEach((function(e){if(e.Mother||e.Father){var n=Kn(e.Mother,e.Father);t.set(n,{wife:e.Mother||void 0,husband:e.Father||void 0})}e.Spouses&&Object.values(e.Spouses).forEach((function(n){var r=Kn(e.Id,n.Id),a="Male"===e.Gender?{wife:n.Id,husband:e.Id,spouse:n}:{wife:e.Id,husband:n.Id,spouse:n};t.set(r,a)}))})),t}(e);return Array.from(r.entries()).map((function(e){var r=Object(g.a)(e,2),a=r[0],i=r[1],o={id:a},c=i.wife&&t.get(i.wife);c&&(o.wife=c);var s=i.husband&&t.get(i.husband);if(s&&(o.husb=s),o.children=Array.from(rr(n,a)).map((function(e){return t.get(e)})),i.spouse&&(i.spouse.marriage_date&&"0000-00-00"!==i.spouse.marriage_date||i.spouse.marriage_location)){var u=Jn(i.spouse.marriage_date);o.marriage=Object.assign({},u,{place:i.spouse.marriage_location})}return o}))}function Hn(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(p.a)(m.a.mark((function e(t,n,r){var a,i,o,c,s,u,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(t,r);case 2:return a=e.sent,i=Bn(a,n),o=Un(a),c=Object(L.j)({indis:i,fams:o}),s=new Map(a.map((function(e){return[e.Name,Yn(e)]}))),u=new Map(a.filter((function(e){var t;return null===(t=e.PhotoData)||void 0===t?void 0:t.path})).map((function(e){return[e.Name,"https://www.wikitree.com".concat(e.PhotoData.path)]}))),l=nr(c,u,s),e.abrupt("return",{chartData:c,gedcom:l});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return t>e?"".concat(e,"_").concat(t):"".concat(t,"_").concat(e)}function qn(e){if(e.Spouses&&"Unknown"!==e.LastNameCurrent&&e.LastNameCurrent!==e.LastNameAtBirth){var t=e.LastNameCurrent.split(/[- ,]/);return Object.entries(e.Spouses).flatMap((function(e){return Object(g.a)(e,2)[1].LastNameAtBirth.split(/[- ,]/)})).some((function(e){return t.some((function(t){return n=e,r=t,xn.StringUtils.compareSimilarityPercent(n,r)>=75;var n,r}))}))?e.LastNameCurrent:void 0}}function Yn(e){return{birth:"Unknown"!==e.LastNameAtBirth?e.LastNameAtBirth:void 0,married:qn(e),aka:"Unknown"!==e.LastNameOther&&e.LastNameAtBirth!==e.LastNameOther&&e.LastNameCurrent!==e.LastNameOther?e.LastNameOther:void 0}}function Jn(e,t){if(e){var n=e.match(/(\d\d\d\d)-(\d\d)-(\d\d)/);if(!n)return{date:{text:e}};var r={};return"0000"!==n[1]&&(r.year=~~n[1]),"00"!==n[2]&&(r.month=~~n[2]),"00"!==n[3]&&(r.day=~~n[3]),"after"===t?{dateRange:{from:r}}:"before"===t?{dateRange:{to:r}}:("guess"===t&&(r.qualifier="abt"),{date:r})}}function Zn(e){return"unknown"!==e?{date:{text:e}}:void 0}var Xn=new Map([[1,"JAN"],[2,"FEB"],[3,"MAR"],[4,"APR"],[5,"MAY"],[6,"JUN"],[7,"JUL"],[8,"AUG"],[9,"SEP"],[10,"OCT"],[11,"NOV"],[12,"DEC"]]);function Qn(e){return[e.qualifier,e.day,Xn.get(e.month),e.year].filter((function(e){return void 0!==e})).join(" ")}function $n(e,t,n){return{level:1,pointer:"",tag:"NAME",data:"".concat(t||""," /").concat(n||"","/"),tree:[{level:2,pointer:"",tag:"TYPE",data:e,tree:[]}]}}function er(e){var t,n=[];return Object(P.f)(e)&&n.push({level:2,pointer:"",tag:"DATE",data:(t=e,t.date?Qn(t.date):t.dateRange?t.dateRange.from&&t.dateRange.to?"BET ".concat(Qn(t.dateRange.from)," AND ").concat(t.dateRange.to):t.dateRange.from?"AFT ".concat(Qn(t.dateRange.from)):t.dateRange.to?"BEF ".concat(Qn(t.dateRange.to)):"":""),tree:[]}),e.place&&n.push({level:2,pointer:"",tag:"PLAC",data:e.place,tree:[]}),n}function tr(e,t){var n,r;return[{level:2,pointer:"",tag:"FILE",data:t||e.url,tree:[{level:3,pointer:"",tag:"FORM",data:(null===(n=e.title)||void 0===n?void 0:n.split(".").pop())||"",tree:[]},{level:3,pointer:"",tag:"TITL",data:(null===(r=e.title)||void 0===r?void 0:r.split(".")[0])||"",tree:[]}]}]}function nr(e,t,n){var r={},a={};return e.indis.forEach((function(e){r[e.id]=function(e,t,n){var r=e.id.replace(/ /g,"_"),a={level:0,pointer:"@".concat(e.id,"@"),tag:"INDI",data:"",tree:[]};return n.birth&&a.tree.push($n("birth",e.firstName,n.birth)),n.married&&a.tree.push($n("married",e.firstName,n.married)),n.aka&&a.tree.push($n("aka",e.firstName,n.aka)),e.birth&&a.tree.push({level:1,pointer:"",tag:"BIRT",data:"",tree:er(e.birth)}),e.death&&a.tree.push({level:1,pointer:"",tag:"DEAT",data:"",tree:er(e.death)}),e.famc&&a.tree.push({level:1,pointer:"",tag:"FAMC",data:"@".concat(e.famc,"@"),tree:[]}),(e.fams||[]).forEach((function(e){return a.tree.push({level:1,pointer:"",tag:"FAMS",data:"@".concat(e,"@"),tree:[]})})),e.id.startsWith("~")||a.tree.push({level:1,pointer:"",tag:"WWW",data:"https://www.wikitree.com/wiki/".concat(r),tree:[]}),(e.images||[]).forEach((function(n){a.tree.push({level:1,pointer:"",tag:"OBJE",data:"",tree:tr(n,t.get(e.id))})})),a}(e,t,n.get(e.id)||{})})),e.fams.forEach((function(e){a[e.id]=function(e){var t={level:0,pointer:"@".concat(e.id,"@"),tag:"FAM",data:"",tree:[]};return e.wife&&t.tree.push({level:1,pointer:"",tag:"WIFE",data:"@".concat(e.wife,"@"),tree:[]}),e.husb&&t.tree.push({level:1,pointer:"",tag:"HUSB",data:"@".concat(e.husb,"@"),tree:[]}),(e.children||[]).forEach((function(e){return t.tree.push({level:1,pointer:e,tag:"CHILD",data:"",tree:[]})})),e.marriage&&t.tree.push({level:1,pointer:"",tag:"MARR",data:"",tree:er(e.marriage)}),t}(e)})),{head:{level:0,pointer:"",tag:"HEAD",data:"",tree:[]},indis:r,fams:a,other:{}}}function rr(e,t){var n=e.get(t);if(n)return n;var r=new Set;return e.set(t,r),r}var ar,ir=function(){function e(t){Object(Se.a)(this,e),this.intl=t}return Object(Le.a)(e,[{key:"isNewData",value:function(e,t,n){var r;return!!e.selection&&((null===(r=t.selection)||void 0===r?void 0:r.id)!==e.selection.id&&(!n||!n.chartData.indis.some((function(t){var n;return t.id===(null===(n=e.selection)||void 0===n?void 0:n.id)}))))}},{key:"loadData",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selection){e.next=2;break}throw new ze.a("WIKITREE_ID_NOT_PROVIDED","WikiTree id needs to be provided");case 2:return e.prev=2,e.next=5,Hn(t.selection.id,this.intl,t.spec.authcode);case 5:return n=e.sent,Object(j.a)("wikitree_loaded"),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(2),Object(j.a)("wikitree_error"),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),or=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHANGELOG:'# Changelog\n\n## 2023-08-25\n\n- Added support for loading gedzip files\n\n## 2023-07-21\n\n- Display images, notes, sources for events as collapsible tabs (by czifumasa)\n\n## 2023-07-20\n\n- Fixed search for Hebrew names (by czifumasa)\n\n## 2023-02-01\n\n- Added option to hide sex indicators (by Kent Grigo)\n- Empty family boxes are now not shown (by Kent Grigo)\n\n## 2023-01-08\n\n- Added option to hide profile identifiers by Kent Grigo\n\n## 2022-12-08\n\n- French translation updated by Olivier Berten\n\n## 2022-08-30\n\n- Added displaying name types in details panel\n\n## 2022-05-13\n\n- Added displaying images in the details panel\n\n## 2022-04-06\n\n- Fixed logging in to WikiTree\n\n## 2021-10-31\n\n- Show changelog in intro page and when an upgraded version is loaded\n\n## 2021-10-27\n\n- Show events in details panel for WikiTree profiles\n\n## 2021-10-26\n\n- Added family events to details panel\n- Improved details panel layout\n\n## 2021-10-25\n\n- Added "Settings" tab in side panel\n- Added color settings (none, by generation, by sex)',REACT_APP_GIT_SHA:"8cc8d23",REACT_APP_GIT_TIME:"2024-03-28 17:58:43 +0100"}).REACT_APP_STATIC_URL;function cr(e){return Object(R.jsxs)(re.a,{negative:!0,className:"error",children:[Object(R.jsx)(re.a.Header,{children:Object(R.jsx)(E.a,{id:"error.failed_to_load_file",defaultMessage:"Failed to load file"})}),Object(R.jsx)("p",{children:e.message})]})}function sr(e){return Object(R.jsx)(Qe.a,{open:e.open,onClose:e.onDismiss,children:Object(R.jsxs)(re.a,{negative:!0,className:"errorPopup",onDismiss:e.onDismiss,children:[Object(R.jsx)(re.a.Header,{children:Object(R.jsx)(E.a,{id:"error.error",defaultMessage:"Error"})}),Object(R.jsx)("p",{children:e.message})]})})}function ur(e,t){var n=t[e];return"string"===typeof n?n:void 0}function lr(e){var t=h.parse(e.search),n=function(e){return ur(e,t)},a=n("view"),i=new Map([["relatives",Ft.Relatives],["fancy",Ft.Fancy]]),o=n("file"),c=n("url"),s="true"===n("embedded"),u=void 0;if(or)u={source:r.GEDCOM_URL,url:or,handleCors:!1};else if("wikitree"===n("source")){var l=h.parse(window.location.search);u={source:r.WIKITREE,authcode:n("authcode")||ur("authcode",l)}}else o?u={source:r.UPLOADED,hash:o,gedcom:e.state&&e.state.data,images:e.state&&e.state.images}:c?u={source:r.GEDCOM_URL,url:c,handleCors:"false"!==n("handleCors")}:s&&(u={source:r.EMBEDDED});var d=n("indi"),f=Number(n("gen"));return{sourceSpec:u,selection:d?{id:d,generation:isNaN(f)?0:f}:void 0,chartType:i.get(a)||Ft.Hourglass,showSidePanel:"false"!==n("sidePanel"),standalone:"false"!==n("standalone")&&!s&&!or,showWikiTreeMenus:"false"!==n("showWikiTreeMenus"),freezeAnimation:"true"===n("freeze"),config:Wt(t)}}!function(e){e[e.INITIAL=0]="INITIAL",e[e.LOADING=1]="LOADING",e[e.ERROR=2]="ERROR",e[e.SHOWING_CHART=3]="SHOWING_CHART",e[e.LOADING_MORE=4]="LOADING_MORE"}(ar||(ar={}));var dr=n(404),fr=n(717),mr=(n(678),n(679),n(680),{cs:o,de:c,fr:s,it:u,pl:l,ru:d}),pr=navigator.language&&navigator.language.split(/[-_]/)[0],gr=Object(dr.a)();gr&&"ie"===gr.name?i.render(Object(R.jsx)("p",{children:"Topola Genealogy Viewer does not support Internet Explorer. Please try a different (modern) browser."}),document.querySelector("#root")):i.render(Object(R.jsx)(fr.a,{locale:pr,messages:mr[pr],children:Object(R.jsxs)(qe,{children:[Object(R.jsx)("style",{children:Ve}),Object(R.jsx)(V.a,{children:Object(R.jsx)(H.b,{component:function(){var e=Object(a.useState)(ar.INITIAL),t=Object(g.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(),c=Object(g.a)(o,2),s=c[0],u=c[1],l=Object(a.useState)(),d=Object(g.a)(l,2),f=d[0],b=d[1],O=Object(a.useState)(),v=Object(g.a)(O,2),x=v[0],w=v[1],_=Object(a.useState)(!1),k=Object(g.a)(_,2),E=k[0],y=k[1],D=Object(a.useState)(!0),I=Object(g.a)(D,2),T=I[0],C=I[1],N=Object(a.useState)(!0),S=Object(g.a)(N,2),A=S[0],P=S[1],z=Object(a.useState)(Ft.Hourglass),W=Object(g.a)(z,2),G=W[0],F=W[1],B=Object(a.useState)(!1),V=Object(g.a)(B,2),K=V[0],q=V[1],Y=Object(a.useState)(),J=Object(g.a)(Y,2),Z=J[0],X=J[1],Q=Object(a.useState)(!1),ee=Object(g.a)(Q,2),te=ee[0],ne=ee[1],re=Object(a.useState)(Ct),ae=Object(g.a)(re,2),ie=ae[0],oe=ae[1],ce=Object(U.a)(),se=Object(H.g)(),ue=Object(H.h)();function le(e){f&&f.id===e.id&&f.generation===e.generation||b(e)}function de(e,t){if(void 0!==t){var n=e.id===It.HIDE,r=e.sex===Tt.HIDE;Object(L.i)(t.chartData).forEach((function(e){e.hideId=n,e.hideSex=r}))}}var fe=new Ae.b,me=new Ae.a,pe=new ir(ce),ge=new Pe;function he(e,t){if(!Z||Z.source!==e.source)return!0;var n={spec:e,selection:t},a={spec:Z,selection:f};switch(n.spec.source){case r.UPLOADED:return fe.isNewData(n,a,s);case r.GEDCOM_URL:return me.isNewData(n,a,s);case r.WIKITREE:return pe.isNewData(n,a,s);case r.EMBEDDED:return ge.isNewData(n,a,s)}}function je(e,t){switch(e.source){case r.UPLOADED:return fe.loadData({spec:e,selection:t});case r.GEDCOM_URL:return me.loadData({spec:e,selection:t});case r.WIKITREE:return pe.loadData({spec:e,selection:t});case r.EMBEDDED:return ge.loadData({spec:e,selection:t})}}function be(e){var t=h.parse(ue.search);for(var n in e)t[n]=e[n];ue.search=h.stringify(t),se.push(ue)}function Oe(e){e.id.startsWith(_n)||(Object(j.a)("selection_changed"),be({indi:e.id,gen:e.generation}))}function ve(){Object(j.a)("print"),sn()}function xe(e){q(!0),w(e)}function we(){return _e.apply(this,arguments)}function _e(){return(_e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(j.a)("download_pdf"),e.prev=1,e.next=4,pn();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),xe(ce.formatMessage({id:"error.failed_pdf",defaultMessage:"Failed to generate PDF file. Please try with a smaller diagram or download an SVG file."}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function ke(){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(j.a)("download_png"),e.prev=1,e.next=4,fn();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),xe(ce.formatMessage({id:"error.failed_png",defaultMessage:"Failed to generate PNG file. Please try with a smaller diagram or download an SVG file."}));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function Re(){Object(j.a)("download_svg"),function(){un.apply(this,arguments)}()}function ye(){q(!1)}function De(){switch(n){case ar.SHOWING_CHART:case ar.LOADING_MORE:var e=Object(Ae.c)(s.chartData,f),t=[{menuItem:ce.formatMessage({id:"tab.info",defaultMessage:"Info"}),render:function(){return Object(R.jsx)(Ce,{gedcom:s.gedcom,indi:e.id})}},{menuItem:ce.formatMessage({id:"tab.settings",defaultMessage:"Settings"}),render:function(){return Object(R.jsx)(Gt,{config:ie,onChange:function(e){oe(e),de(e,s),be(function(e){return{c:St.get(e.color),i:At.get(e.id),s:zt.get(e.sex)}}(e))}})}}];return Object(R.jsxs)("div",{id:"content",children:[Object(R.jsx)(sr,{open:K,message:x,onDismiss:ye}),n===ar.LOADING_MORE?Object(R.jsx)($e.a,{active:!0,size:"small",className:"loading-more"}):null,Object(R.jsx)(vn,{data:s.chartData,selection:e,chartType:G,onSelection:Oe,freezeAnimation:te,colors:ie.color,hideIds:ie.id,hideSex:ie.sex}),E?Object(R.jsx)(Ke,{greaterThanOrEqual:"large",className:"sidePanel",children:Object(R.jsx)($.a,{panes:t})}):null,Object(R.jsx)(M,{})]});case ar.ERROR:return Object(R.jsx)(cr,{message:x});case ar.INITIAL:case ar.LOADING:return Object(R.jsx)($e.a,{active:!0,size:"large"})}}return Object(a.useEffect)((function(){Object(p.a)(m.a.mark((function e(){var t,a,o,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/view"===ue.pathname){e.next=3;break}return n!==ar.INITIAL&&i(ar.INITIAL),e.abrupt("return");case 3:if((t=lr(ue)).sourceSpec){e.next=7;break}return se.replace({pathname:"/"}),e.abrupt("return");case 7:if(n!==ar.INITIAL&&!he(t.sourceSpec,t.selection)){e.next=31;break}return i(ar.LOADING),X(t.sourceSpec),b(t.selection),C(t.standalone),P(t.showWikiTreeMenus),F(t.chartType),ne(t.freezeAnimation),oe(t.config),e.prev=16,e.next=19,je(t.sourceSpec,t.selection);case 19:a=e.sent,u(a),de(t.config,a),y(t.showSidePanel),i(ar.SHOWING_CHART),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(16),d=We(e.t0,ce),w(d),i(ar.ERROR);case 29:e.next=51;break;case 31:if(n!==ar.SHOWING_CHART&&n!==ar.LOADING_MORE){e.next=51;break}if(c=t.sourceSpec.source===r.WIKITREE&&(!f||f.id!==(null===(o=t.selection)||void 0===o?void 0:o.id)),F(t.chartType),i(c?ar.LOADING_MORE:ar.SHOWING_CHART),le(t.selection),!c){e.next=51;break}return e.prev=37,e.next=40,Hn(t.selection.id,ce);case 40:s=e.sent,l=Object(Ae.c)(s.chartData,t.selection),u(s),b(l),i(ar.SHOWING_CHART),e.next=51;break;case 47:e.prev=47,e.t1=e.catch(37),i(ar.SHOWING_CHART),xe(ce.formatMessage({id:"error.failed_wikitree_load_more",defaultMessage:"Failed to load data from WikiTree. {error}"},{error:e.t1}));case 51:case"end":return e.stop()}var d}),e,null,[[16,26],[37,47]])})))()})),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(H.b,{render:function(){return Object(R.jsx)(yt,{data:null===s||void 0===s?void 0:s.chartData,allowAllRelativesChart:(null===Z||void 0===Z?void 0:Z.source)!==r.WIKITREE,showingChart:"/view"===se.location.pathname&&(n===ar.SHOWING_CHART||n===ar.LOADING_MORE),standalone:T,eventHandlers:{onSelection:Oe,onPrint:ve,onDownloadPdf:we,onDownloadPng:ke,onDownloadSvg:Re},showWikiTreeMenus:(null===Z||void 0===Z?void 0:Z.source)===r.WIKITREE&&A})}}),or?Object(R.jsxs)(H.d,{children:[Object(R.jsx)(H.b,{exact:!0,path:"/view",render:De}),Object(R.jsx)(H.a,{to:"/view"})]}):Object(R.jsxs)(H.d,{children:[Object(R.jsx)(H.b,{exact:!0,path:"/",component:Ze}),Object(R.jsx)(H.b,{exact:!0,path:"/view",render:De}),Object(R.jsx)(H.a,{to:"/"})]})]})}})})]})}),document.querySelector("#root"))},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(24),a=n(68),i=n(69),o=n(127),c=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(r.a)(this,n),(i=t.call(this,a)).code=e,i.args=o,i}return n}(Object(o.a)(Error))},88:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return E}));var r=n(9),a=n(8),i=n.n(a),o=n(24),c=n(36),s=n(20),u=n(31),l=n(23),d=n(83),f=n(399),m=n.n(f);function p(e,t){return{id:t&&e.indis.some((function(e){return e.id===t.id}))?t.id:e.indis[0].id,generation:(null===t||void 0===t?void 0:t.generation)||0}}function g(e,t,n){var r=Object(l.a)(e,n||new Map),a=JSON.stringify(r);try{sessionStorage.setItem(t,a)}catch(i){console.warn("Failed to store data in session storage: "+i)}return r}function h(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(i.a.mark((function t(n){var a,o,c,s,u,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=m.a,t.t1=e,t.next=4,n.arrayBuffer();case 4:t.t2=t.sent,t.t3=t.t1.from.call(t.t1,t.t2),a=new t.t0(t.t3),o=a.getEntries(),c=void 0,s=new Map,u=Object(r.a)(o);try{for(u.s();!(l=u.n()).done;)(d=l.value).entryName.endsWith(".ged")?c?console.warn("Multiple GEDCOM files found in zip archive."):c=d.getData().toString():s.set(d.entryName,URL.createObjectURL(new Blob([d.getData()])))}catch(i){u.e(i)}finally{u.f()}if(c){t.next=14;break}throw new Error("GEDCOM file not found in zip archive.");case 14:return t.abrupt("return",{gedcom:c,images:s});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.slice(0,2).text();case 2:if("PK"!==e.sent){e.next=5;break}return e.abrupt("return",h(t));case 5:return e.next=7,t.text();case 7:return e.t0=e.sent,e.t1=new Map,e.abrupt("return",{gedcom:e.t0,images:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(i.a.mark((function e(t,n){var r,a,o,c,s,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=sessionStorage.getItem(t))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("Failed to load data from session storage: "+e.t0);case 9:return(a=t.match(/https:\/\/drive\.google\.com\/file\/d\/(.*)\/.*/))&&(t="https://drive.google.com/uc?id=".concat(a[1],"&export=download")),(o=t.match(/https:\/\/drive\.google\.com\/open\?id=([^&]*)&?.*/))&&(t="https://drive.google.com/uc?id=".concat(o[1],"&export=download")),c=n?"https://topolaproxy.bieda.it/"+t:t,e.next=16,window.fetch(c);case 16:if(200===(s=e.sent).status){e.next=19;break}throw new Error(s.statusText);case 19:return e.t1=b,e.next=22,s.blob();case 22:return e.t2=e.sent,e.next=25,(0,e.t1)(e.t2);case 25:return u=e.sent,l=u.gedcom,d=u.images,e.abrupt("return",g(l,t,d));case 29:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(e,t,n){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=sessionStorage.getItem(t))){e.next=4;break}return e.abrupt("return",JSON.parse(a));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("Failed to load data from session storage: "+e.t0);case 9:if(n){e.next=11;break}throw new d.a("ERROR_LOADING_UPLOADED_FILE","Error loading data. Please upload your file again.");case 11:return e.abrupt("return",g(n,t,r));case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var k=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"isNewData",value:function(e,t,n){return e.spec.hash!==t.spec.hash}},{key:"loadData",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t.spec.hash,t.spec.gedcom,t.spec.images);case 3:return n=e.sent,r=Object(l.g)(n.gedcom.head),Object(u.a)("upload_file_loaded",{event_label:r,event_value:t.spec.images&&t.spec.images.size||0}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),Object(u.a)("upload_file_error"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"isNewData",value:function(e,t,n){return e.spec.url!==t.spec.url}},{key:"loadData",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t.spec.url,t.spec.handleCors);case 3:return n=e.sent,r=Object(l.g)(n.gedcom.head),Object(u.a)("upload_file_loaded",{event_label:r}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),Object(u.a)("url_file_error"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()}).call(this,n(27).Buffer)}},[[681,1,2]]]);
//# sourceMappingURL=main.22515e01.chunk.js.map